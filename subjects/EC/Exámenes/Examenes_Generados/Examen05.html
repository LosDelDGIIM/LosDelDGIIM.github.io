<!DOCTYPE html>
<html lang="es">
<head>
    <title>LosDelDGIIM | Test</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <meta charset="UTF-8">

    <link rel="icon" href="../../../../assets/Icon.png">

    
    
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
          
</head>
<body>

<div class="container">
    <div class="form-row">
        <div class="container">
            <p><br></p>
<h1>Estructura de Computadores. Examen 05.</h1>
<p><strong>Autor:</strong> Arturo Olivares Martos</p>
<hr>
<ul>
<li><strong>Asignatura:</strong> Estructura de Computadores.</li>
<li><strong>Curso Acad√©mico:</strong> 2023-24.</li>
<li><strong>Grado:</strong> Doble Grado en Ingenier√≠a Inform√°tica y Matem√°ticas.</li>
<li><strong>Grupo:</strong> A.</li>
<li><strong>Profesor:</strong> Ignacio Rojas Ruiz.</li>
<li><strong>Fecha:</strong> 12-12-2023.</li>
<li><strong>Descripci√≥n:</strong> Examen de Temas 3-6 de Teor√≠a, y pr√°cticas 3 y 4.</li>
</ul>
<p>Cada persona ten√≠a un examen, por lo que hubo muchas versiones de este examen. De una bater√≠a de preguntas del profesor (sal√≠a de forma aleatoria); por lo que no hay un √∫nico examen, sino muchos. Esta es la primera versi√≥n subida.</p>
<hr>
<ol>
<li>
<p>Respecto a las unidades de control nanoprogramadas:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> La anchura de la memoria de nanoprograma es la misma que la de memoria de microprograma en un dise√±o de la misma unidad de control que no usara nanoprogramaci√≥n.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Suponiendo una memoria de microprograma con \(n\) microinstrucciones de \(w\) bits cada una, de las cuales \(2^m\) son distintas, el ahorro en bits si se utiliza nanoprogramaci√≥n es \((n\cdot w+2^m\cdot w)‚àín\cdot w\).</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> La realizaci√≥n nanoprogramada de una unidad de control es m√°s r√°pida que la microprogramada.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> El dise√±o de las unidades de control nanoprogramadas siempre tiene que ser vertical.</label></li>
</ul>
</li>
<li>
<p>Una posible codificaci√≥n en microinstrucciones de la instrucci√≥n <code>call X</code> es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> <code>PC := X ; SP := SP-1 ; m[SP] := PC</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>SP := SP-1 ; m[SP] := PC ; PC := PC+1</code></label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> <code>SP := PC-1 ; m[SP] := PC ; PC := X</code></label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> <code>SP := SP-1 ; m[SP] := PC ; PC := X</code></label></li>
</ul>
</li>
<li>
<p>Suponga que la micropalabra de una m√°quina microprogramada tiene 8 bits de ancho y se usan 16 micropalabras diferentes en un microprograma de 32 micropalabras. Si se usa nanoprogramaci√≥n...</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> no se ahorran bits pero el funcionamiento es m√°s r√°pido.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> se ahorran bits y adem√°s el funcionamiento es m√°s lento.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> se ahorran bits y el funcionamiento es m√°s r√°pido.</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> no se ahorran bits y adem√°s el funcionamiento es m√°s lento.</label></li>
</ul>
</li>
<li>
<p>La ganancia de velocidad ideal en un cauce de K etapas de igual duraci√≥n T ejecutando un programa de N instrucciones es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> S=(N<em>T)/((N+N-1)</em>T)</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> S=(K*N)/(K-N+1)</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> S=(K<em>N</em>T)/((K-N+1)*T)</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> S=(K*N)/(K+N-1)</label></li>
</ul>
</li>
<li>
<p>Un procesador x86 a 4 GHz dispone de 7 unidades de ejecuci√≥n en paralelo, con 20 etapas de segmentaci√≥n, y es capaz de emitir (comenzar a ejecutar) 4 instrucciones en cada ciclo de reloj. ¬øQu√© velocidad aproximada de ejecuci√≥n de instrucciones ser√° capaz de alcanzar (MIPS = millones de instrucciones por segundo)?</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 16000 MIPS</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 28000 MIPS</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 80000 MIPS</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 4000 MIPS</label></li>
</ul>
</li>
<li>
<p>La pr√°ctica "popcount" deb√≠a calcular la suma de bits (peso Hamming) de los elementos de un array. Un estudiante entrega la siguiente versi√≥n de popcount5:
<br><code>int popcount5(unsigned* array,int len){<br>int i,j;<br>unsigned x;<br>int result = 0;<br>for(i=0;i&lt;<tmp>len;i++){<br>x=array[i];<br>for(j=0;j&lt;<tmp>8;j++){<br>result += x &amp; 0x01010101;<br>x&gt;&gt;=1;<br>}<br>}<br>result += (result &gt;&gt; 16);<br>result += (result &gt;&gt; 8);<br>return result &amp; 0xFF;<br>}</code><br>
Esta funci√≥n presenta varias diferencias con la versi√≥n recomendada en clase, incluyendo la ausencia de una variable auxiliar <code>val</code>. Esta funci√≥n popcount5:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> produce siempre el resultado correcto</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> fallar√≠a con array={1,2,4,8}</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> no es correcta pero el error no se manifiesta en los ejemplos propuestos, o se manifiesta en ambos</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> fallar√≠a con array={0,1,2,3}</label></li>
</ul>
</li>
<li>
<p>En la pr√°ctica de la bomba, el primer ejercicio consiste en ir saltando las "explosiones" mientras se depura el c√≥digo, para lo cual se puede utilizar...</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> ddd o hexedit</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> hexedit u objdump</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> objdump o gdb</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> gdb o ddd</label></li>
</ul>
</li>
<li>
<p>En popcount8, la variable:
<br><code>int SSE_LUTb[] = {0x02010100, 0x03020201, 0x03020201, 0x04030302};</code><br>
se usa:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> como m√°scara para hacer un <code>and</code> con un registro <code>xmm</code>.</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> como tabla de direcciones de registros <code>xmm</code> (por ej. 02 indica <code>xmm2</code>, 01 indica <code>xmm1</code>,...)</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> como m√°scara para hacer un <code>xor</code> con un registro <code>xmm</code>.</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> como tabla de consulta para reemplazar secuencias de 4 bits por sus correspondientes popcount de 4 bits.</label></li>
</ul>
</li>
<li>
<p>Suponga la expresi√≥n:
<br><code>unsigned int val = x &amp; 0x01010101;</code><br>
donde <code>x</code> es un <code>unsigned int</code>. ¬øCu√°l de los siguientes valores de <code>x</code> da como resultado <code>val = 0x01010101</code>?</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 0x13579bdf</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 0x10101010</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 0xeeeeeeee</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 0xaaaaaaaa</label></li>
</ul>
</li>
<li>
<p>Si compilamos con <code>-Og</code> la funci√≥n:
<br><code>unsigned long f (unsigned long val) {<br>return val + (val &gt;&gt; 64);<br>}</code><br>
Obtenemos:
<br><code>movq %rdi, %rax<br>movl $64, %ecx<br>shrq %cl, %rax<br>addq %rdi, %rax<br>ret</code><br>
Teniendo en cuenta que las instrucciones de desplazamiento de n√∫meros de 64 bits usan s√≥lo los 6 bits menos significativos del n√∫mero de desplazamientos a realizar, este c√≥digo:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> Devuelve 0</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> Devuelve val * 2</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Devuelve val / 2</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Devuelve val</label></li>
</ul>
</li>
<li>
<p>Dise√±e un sistema de memoria de 128 KB direccionable por palabras de 16 bits a partir de m√≥dulos SRAM de 16Kx4 y ROM de 8Kx2. La memoria SRAM debe ocupar las direcciones <code>0x0000</code> a <code>0xBFFF</code> y la ROM <code>0xC000</code> a <code>0xFFFF</code>. Los m√≥dulos necesarios ser√≠an, respecto a la ROM, serian:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 8</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 12</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 16</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 20</label></li>
</ul>
</li>
<li>
<p>Dise√±e un sistema de memoria de 128 KB direccionable por palabras de 16 bits a partir de m√≥dulos SRAM de 16Kx2 y ROM de 8Kx4. La memoria SRAM debe ocupar las direcciones <code>0x0000</code> a <code>0xBFFF</code> y la ROM <code>0xC000</code> a <code>0xFFFF</code>. Los m√≥dulos necesarios ser√≠an, respecto a la ROM, serian:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 16</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 24</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 32</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 8</label></li>
</ul>
</li>
<li>
<p>Dise√±e un sistema de memoria de 128 KB direccionable por palabras de 16 bits a partir de m√≥dulos SRAM de 16Kx4 y ROM de 8Kx2. La memoria SRAM debe ocupar las direcciones <code>0x0000</code> a <code>0xBFFF</code> y la ROM <code>0xC000</code> a <code>0xFFFF</code>. Los m√≥dulos necesarios ser√≠an:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 14 m√≥dulos de SRAM y 16 de ROM</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16 m√≥dulos de SRAM y 12 de ROM</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 12 m√≥dulos de SRAM y 16 de ROM</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna es correcta</label></li>
</ul>
</li>
<li>
<p>Dise√±e un sistema de memoria de 128 KB direccionable por palabras de 16 bits a partir de m√≥dulos SRAM de 16Kx2 y ROM de 8Kx4. La memoria SRAM debe ocupar las direcciones <code>0x0000</code> a <code>0xBFFF</code> y la ROM <code>0xC000</code> a <code>0xFFFF</code>. Los m√≥dulos necesarios ser√≠an:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 24 m√≥dulos de SRAM y 16 de ROM</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 24 m√≥dulos de SRAM y 8 de ROM</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16 m√≥dulos de SRAM y 16 de ROM</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna es correcta</label></li>
</ul>
</li>
<li>
<p>Dise√±e un sistema de memoria de 128 KB direccionable por palabras de 16 bits a partir de m√≥dulos SRAM de 16Kx2 y ROM de 8Kx4. La memoria SRAM debe ocupar las direcciones <code>0x0000</code> a <code>0xBFFF</code> y la ROM <code>0xC000</code> a <code>0xFFFF</code>. Los m√≥dulos necesarios ser√≠an, respecto a la ROM, serian:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 8</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 32</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 64</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 64GB<br>Tama√±o de l√≠nea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 16 MB de 16 v√≠as<br>
Sobre la memoria cache L3, el campo de etiqueta tiene un tama√±o de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 16 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 12 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 15 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 11 bits</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 64GB<br>Tama√±o de l√≠nea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 16 MB de 16 v√≠as<br>
Sobre la memoria cache L2, el campo de etiqueta tiene un tama√±o de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 18 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 19 bits</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 20 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16 bits</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 64GB<br>Tama√±o de l√≠nea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 16 MB de 16 v√≠as<br>
Sobre la memoria cache L1, el campo de etiqueta tiene un tama√±o de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 23 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 20 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 18 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 1GB<br>Tama√±o de l√≠nea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 8 MB de 16 v√≠as<br>
Sobre la memoria cache L3, el tama√±o total que ocupan los datos es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 16777216 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16777216 B</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1703936 bits</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 67108864 bits</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 64GB<br>Tama√±o de l√≠nea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 16 MB de 16 v√≠as<br>
Sobre la memoria cache L2, el tama√±o total que ocupan las etiquetas es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 81920</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 42740</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 40960</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 86016</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 1GB<br>Tama√±o de l√≠nea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 8 MB de 16 v√≠as<br>
Sobre la memoria cache L1, el campo de etiqueta tiene un tama√±o de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 16 bits</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 18 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 20 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 24 bits</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 64GB<br>Tama√±o de l√≠nea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 16 MB de 16 v√≠as<br>
Sobre la memoria cache L1, el campo de conjunto tiene un tama√±o de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 12</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 10</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 7</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 1GB<br>Tama√±o de l√≠nea/bloque: 64B<br>Nivel 1 cache: 32 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 8 MB de 16 v√≠as<br>
Sobre la memoria cache L3, el tama√±o total que ocupan las etiquetas es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 1441792 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1K bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1703936 bits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 64GB<br>Tama√±o de l√≠nea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 16 MB de 16 v√≠as<br>
Sobre la memoria cache L2, el campo de conjunto tiene un tama√±o de:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="1" data-content="0" /> 12</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 14</label></li>
<li><label><input type="radio" data-question="0" data-content="1" /> 10</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 8</label></li>
</ul>
</li>
<li>
<p>Se dispone de un procesador, con palabras de 64 bits, con la siguiente jerarqu√≠a de memoria:
<br>Memoria principal: 64GB<br>Tama√±o de l√≠nea/bloque: 8 palabras<br>Nivel 1 cache: 64 KB de 8 v√≠as<br>Nivel 2 cache: 256 KB de 4 v√≠as<br>Nivel 3 cache: 16 MB de 16 v√≠as<br>
Sobre la memoria cache L3, el tama√±o total que ocupan las etiquetas es:</p>
<ul class="radio-list">
<li><label><input type="radio" data-question="0" data-content="1" /> 4Mbits</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 1KB</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> 16KB</label></li>
<li><label><input type="radio" data-question="1" data-content="0" /> Ninguna respuesta es correcta</label></li>
</ul>
</li>
</ol>
        </div>
    </div>
    <div id="tg-msg" class="alert" role="alert" style="display: none">
        <span id="tg-correct-questions"></span> Correct! <br /><b>Rating: <span id="tg-score"></span>%</b>
    </div>
    <div class="row">
        <button id="reset-questions" class="btn btn-link">Reiniciar todo</button>
    </div>
    <script type="text/javascript">$(function () {
    $('ul.radio-list, ul.checklist, ul.textbox').each(function (i, el) {
        var questionClass = $(this).attr('class');
        $(this).parent().addClass('question-row').addClass(questionClass);
        if (questionClass == 'radio-list') {
            $(this).find('input[type="radio"]').attr('name', 'radio-question-' + i);
        }
    });

    function checkQuestion(question) {
        var self = question;

        // Single Question.
        if (self.hasClass('radio-list')) {
            if (self.find('input[type="radio"][data-content="1"]:checked').length == 1) {
                self.addClass('text-success');
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.find('input[type="radio"]').attr('disabled', true);
            } else {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.addClass('text-danger');
            }
        }
        // Textbox Question.
        if (self.hasClass('textbox')) {
            var textbox = self.find('input[type="text"]');
            var correct_text = String(textbox.data("content")).trim().split("").reverse().join("");
            if (String(textbox.val()).trim().toLowerCase() == correct_text.toLowerCase()) {
                self.addClass('text-success');
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.find('input[type="text"]').attr('disabled', true);
            } else {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.addClass('text-danger');
                textbox.parent().find("i.text-correct").html(correct_text);
            }
        }
        // Multiple selection Questions.
        if (self.hasClass('checklist')) {
            var total_corrects = self.find('input[type="checkbox"][data-content="1"]').length;
            var total_incorrects = self.find('input[type="checkbox"][data-content="0"]').length;
            var correct_selected = self.find('input[type="checkbox"][data-content="1"]:checked').length;
            var incorrect_selected = self.find('input[type="checkbox"][data-content="0"]:checked').length;
            var qc = +((correct_selected / total_corrects) - (incorrect_selected / total_incorrects)).toFixed(2);
            if (qc < 0) {
                qc = 0;
            }
            if (qc == 0) {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.removeClass('text-warning');
                self.addClass('text-danger');
            } else if (qc > 0 && qc < 1) {
                self.removeClass('text-success'); // Eliminar la marca de respuesta correcta
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.addClass('text-warning');
            } else {
                self.removeClass('text-warning'); // Eliminar la marca de respuesta parcialmente correcta
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.addClass('text-success');
                self.removeClass('text-danger'); // Eliminar la marca de respuesta incorrecta
                self.find('input[type="checkbox"]').attr('disabled', true);
            }
        }
    }

    $('li.question-row input').on('change', function () {
        var question = $(this).closest('li.question-row');
        checkQuestion(question);
    });

    $('#reset-questions').on('click', function () {
        $('li.question-row').removeClass('text-success').removeClass('text-danger').removeClass('text-warning');
        $('i.text-correct').html('');
        $('li.question-row input').prop('checked', false);
        $('li.question-row input[type="text"]').val('');
        $('li.question-row input').attr('disabled', false);
    });

    
    // FunciÛn para mezclar las preguntas
    function shuffleQuestions() {
        $('ol').each(function() {
            var ol = $(this);
            var liArr = ol.children('li');
            liArr.sort(function() {
                return (Math.round(Math.random()) - 0.5);
            }).detach().appendTo(ol);
        });
    }

    // FunciÛn para mezclar las opciones dentro de cada pregunta
    function shuffleOptions() {
        $('ul.radio-list').each(function() {
            var ul = $(this);
            var liArr = ul.children('li');
            liArr.sort(function() {
                return (Math.round(Math.random()) - 0.5);
            }).detach().appendTo(ul);
        });
    }

    // Llamar a las funciones para mezclar las preguntas y las opciones al cargar la p·gina
    shuffleQuestions();
    shuffleOptions();
});</script>
</div>
</body>
</html>
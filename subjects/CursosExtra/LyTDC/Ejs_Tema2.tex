\section{Lógica de Primer Orden}

\begin{ejercicio}\label{ej:2.1}
    Prueba que $\{\forall x(P(x) \rightarrow Q(x)), \neg Q(a)\} \models \neg P(a)$.\\

    Sea $(\veps,v)$ una $\cc{L}$-interpretación, verificando:
    \begin{align*}
        I^v(\forall x(P(x) \rightarrow Q(x))) &= 1,\\
        I^v(\neg Q(a)) &= 1.
    \end{align*}

    Por hipótesis, $I^v(\forall x(P(x) \rightarrow Q(x))) =~1$. En particular, para $a$ tenemos:
    \begin{multline*}
        1 = I^{v(x\mid a)}(P(x) \rightarrow Q(x))
        = 1+I^{v(x\mid a)}(P(x))+I^{v(x\mid a)}(Q(x))=1+P(a)+Q(a)
        \Longrightarrow \\ \Longrightarrow P(a) = Q(a).
    \end{multline*}
    
    
    Por otro lado, tenemos:
    \begin{align*}
        1 = I^v(\neg Q(a)) &= 1+I^v(Q(a))\Longrightarrow I^v(Q(a)) = 0
        = Q(v(a)) = Q(a)
    \end{align*}

    Por tanto:
    \begin{align*}
        I^v(\neg P(a)) &= 1+I^v(P(a)) = 1+P(v(a)) = 1+P(a) = 1+Q(a) = 1.
    \end{align*}

    Por tanto, $\{\forall x(P(x) \rightarrow Q(x)), \neg Q(a)\} \models \neg P(a)$.
\end{ejercicio}

\begin{ejercicio}\label{ej:2.2}
    Dada $\cc{U}$ una $\cc{L}$-estructura y $\varphi$ una sentencia, razona si equivalen el que $\varphi$ sea satisfacible y que sea válida en $\cc{U}$
    \begin{observacion}
        Usar el lema de coincidencia.
    \end{observacion}

    Demostraremos por doble implicación:
    \begin{itemize}
        \item[$\Longrightarrow)$] Supongamos que $\varphi$ es satisfacible en $\cc{U}$. Entonces existe una $\cc{L}$-interpretación $(\veps,v)$ tal que $I^v(\varphi) = 1$. No obstante, por tratarse de una sentencia, y usando el lema de coincidencia, tenemos que:
        \begin{equation*}
            1 = I^v(\varphi) = I^{w}(\varphi)
        \end{equation*}
        para cualquier otra $\cc{L}$-interpretación $(\veps,w)$. Por tanto, $\varphi$ es válida en $\cc{U}$.

        \item[$\Longleftarrow)$] Supongamos que $\varphi$ es válida en $\cc{U}$. Entonces para cualquier $\cc{L}$-interpretación $(\veps,w)$, tenemos que $I^v(\varphi) = 1$. En particular existe una $\cc{L}$-interpretación $(\veps,v)$ tal que $I^v(\varphi) = 1$. Por tanto, $\varphi$ es satisfacible en $\cc{U}$.
    \end{itemize}
\end{ejercicio}

\begin{ejercicio}\label{ej:2.3}
    Usando el Ejercicio~\ref{ej:2.2}, y bajo las mismas hipótesis, prueba que o bien $\varphi$ es válida o bien lo es $\neg \varphi$, pero no se pueden dar las dos posibilidades.\\

    Sea ahora una $\cc{L}-$interpretación $(\cc{U},v)$. Hay dos posibilidades:
    \begin{itemize}
        \item \ul{$I^v(\varphi) = 1$}. Entonces, $\varphi$ es satisfacible en $\cc{U}$, y por el Ejercicio~\ref{ej:2.2} $\varphi$ es válida en $\cc{U}$. Por tanto, $\neg \varphi$ no es válida en $\cc{U}$.
        
        \item \ul{$I^v(\varphi) = 0$}. Entonces, $\neg \varphi$ es satisfacible en $\cc{U}$, y por el Ejercicio~\ref{ej:2.2} $\neg \varphi$ es válida en $\cc{U}$. Por tanto, $\varphi$ no es válida en $\cc{U}$.
    \end{itemize}
\end{ejercicio}

\begin{ejercicio}\label{ej:2.4}
    Sea $\cc{U}$ una $\cc{L}$-estructura. Sea $\varphi \in Form(\cc{L})$. Si $x_1, \ldots, x_n$ son todas las variables de $\varphi$ con alguna ocurrencia libre, entonces equivalen:
    \begin{enumerate}
        \item $\varphi$ es válida en $\cc{U}$,
        \item $\forall x_1 \ldots \forall x_n \varphi$ es satisfacible en $\cc{U}$,
        \item $\forall x_1 \ldots \forall x_n \varphi$ es válida en $\cc{U}$.
    \end{enumerate}

    Demostraremos distintas implicaciones:
    \begin{description}
        \item[$(1)\Longrightarrow(2)$] Supongamos que $\varphi$ es válida en $\cc{U}$. Sea ahora una $\cc{L}$-interpretación $(\veps,v)$ fijada. Tenemos que:
        \begin{equation*}
            \forall x_1 \ldots \forall x_n I^v(\varphi) = 1\iff \forall a_1,\ldots,\forall a_n\in D,\qquad I^{v(x_1\mid a_1,\ldots,x_n\mid a_n)}(\varphi) = 1
        \end{equation*}
        No obstante, esto se tiene que es cierto, puesto que $\varphi$ es válida en $\cc{U}$ y $I^{v(x_1\mid a_1,\ldots,x_n\mid a_n)}$ es una $\cc{L}$-interpretación. Por tanto, $\forall x_1 \ldots \forall x_n \varphi$ es satisfacible en $\cc{U}$.

        \item[$(2)\Longrightarrow(3)$] $\forall x_1 \ldots \forall x_n \varphi$ es una sentencia, ya que estamos cuantificando todas las variables libres de $\varphi$. Por tanto, por el Ejercicio~\ref{ej:2.2}, se tiene la implicación.
        
        \item[$(3)\Longrightarrow(1)$] Supongamos que $\forall x_1 \ldots \forall x_n \varphi$ es válida en $\cc{U}$. Sea ahora una $\cc{L}$-interpretación $(\veps,v)$ fijada. Sea ahora $a_i=v(x_i)\in D$ para $i=1,\ldots,n$. Por ser $\forall x_1 \ldots \forall x_n \varphi$ válida en $\cc{U}$, tenemos que:
        \begin{equation*}
            I^{v(x_1\mid a_1,\ldots,x_n\mid a_n)}(\varphi) = 1.
        \end{equation*}

        Además, tenemos que:
        \begin{equation*}
            v(x_i) = v(x_1\mid a_1,\ldots,x_n\mid a_n)(x_i) = a_i\qquad i=1,\ldots,n.
        \end{equation*}
        Por tanto, ambas asignaciones coinciden en las variables libres de $\varphi$. Por el Lema de Coincidencia, tenemos que:
        \begin{equation*}
            1 = I^{v(x_1\mid a_1,\ldots,x_n\mid a_n)}(\varphi) = I^v(\varphi).
        \end{equation*}

        Por último, como esto era para cualquier $\cc{L}$-interpretación $(\veps,v)$, se tiene que $\varphi$ es válida en $\cc{U}$.
    \end{description}
\end{ejercicio}


\begin{ejercicio}\label{ej:2.5}
    Sea $\cc{U}$ una $\cc{L}$-estructura. Sea $\varphi \in Form(\cc{L})$. Si $x_1, \ldots, x_n$ son todas las variables de $\varphi$ con alguna ocurrencia libre, entonces equivalen:
    \begin{enumerate}
        \item $\varphi$ es satisfacible en $\cc{U}$,
        \item $\exists x_1 \ldots \exists x_n \varphi$ es satisfacible en $\cc{U}$.
    \end{enumerate}
    ¿Es también cierta la equivalencia cambiando en el segundo apartado satisfacible por válida?\\

    Demostramos las distintas implicaciones:
    \begin{description}
        \item[$(1)\Longrightarrow(2)$] Supongamos que $\varphi$ es satisfacible en $\cc{U}$. Entonces existe una $\cc{L}$-interpretación $(\veps,v)$ tal que $I^v(\varphi) = 1$. Consideramos $a_i=v(x_i)\in D$ para $i=1,\ldots,n$. Por tanto, por el Lema de Coincidencia, tenemos que:
        \begin{equation*}
            I^{v(x_1\mid a_1,\ldots,x_n\mid a_n)}(\varphi) = 1.
        \end{equation*}

        Por tanto, $\exists x_1 \ldots \exists x_n \varphi$ es satisfacible en $\cc{U}$.

        \item[$(2)\Longrightarrow(1)$] Supongamos que $\exists x_1 \ldots \exists x_n \varphi$ es satisfacible en $\cc{U}$. Entonces existen $a_i\in D$ para $i=1,\ldots,n$ y una $\cc{L}$-interpretación $(\veps,v)$ tal que:
        \begin{equation*}
            I^{v(x_1\mid a_1,\ldots,x_n\mid a_n)}(\varphi) = 1.
        \end{equation*}

        Por tanto, consideramos una $\cc{L}$-interpretación $(\veps,w)$ tal que $w(x_i) = a_i$ para $i=1,\ldots,n$. Por el Lema de Coincidencia, tenemos que:
        \begin{equation*}
            I^{v(x_1\mid a_1,\ldots,x_n\mid a_n)}(\varphi) = I^w(\varphi) = 1.
        \end{equation*}

        Por tanto, $\varphi$ es satisfacible en $\cc{U}$.
    \end{description}

    Por último, si cambiamos satisfacible por válida en el segundo apartado, la equivalencia sigue siendo cierta, puesto que:
    \begin{equation*}
        \exists x_1 \ldots \exists x_n \varphi\text{ es válida en }\cc{U}\Longrightarrow
        \exists x_1 \ldots \exists x_n \varphi\text{ es satisfacible en }\cc{U}.
    \end{equation*}
        
\end{ejercicio}

\begin{ejercicio}\label{ej:2.6}
    Demuestra que:
    \begin{enumerate}
        \item $\models \neg \forall x \psi \leftrightarrow \exists x \neg \psi$,
        % // TODO: Puedo negar así por la cara??
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\exists x \neg \psi)
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\neg \psi) = 1\\
            &\iff \exists a\in D,\qquad 1+I^{v(x\mid a)}(\psi) = 1\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) = 0\\\\
            1 = I^v(\neg \forall x \psi)
            &\iff 1+I^v(\forall x \psi) = 1\\
            &\iff I^{v}( \forall x \psi) = 0\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) = 0.
        \end{align*}

        Por tanto, y puesto que trabajamos en $\bb{Z}_2$, hemos probado que:
        \begin{equation*}
            I^v(\neg \forall x \psi) =I^v(\exists x \neg \psi).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \neg \forall x \psi \leftrightarrow \exists x \neg \psi)
            &= 1+I(\neg \forall x \psi)+I(\exists x \neg \psi)=1
        \end{align*}
        \item $\models \neg \exists x \psi \leftrightarrow \forall x \neg \psi$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\forall x \neg \psi)
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\neg \psi) = 1\\
            &\iff \forall a\in D,\qquad 1+I^{v(x\mid a)}(\psi) = 1\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) = 0\\\\
            1 = I^v(\neg \exists x \psi)
            &\iff 1+I^v(\exists x \psi) = 1\\
            &\iff I^{v}( \exists x \psi) = 0\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) = 0.
        \end{align*}

        Por tanto, y puesto que trabajamos en $\bb{Z}_2$, hemos probado que:
        \begin{equation*}
            I^v(\neg \exists x \psi) =I^v(\forall x \neg \psi).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \neg \exists x \psi \leftrightarrow \forall x \neg \psi)
            &= 1+I(\neg \exists x \psi)+I(\forall x \neg \psi)=1
        \end{align*}
        \item $\models \exists x \psi \leftrightarrow \neg \forall x \neg \psi$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\neg \forall x \neg \psi)
            &\iff 1+I^v(\forall x \neg \psi) = 1\\
            &\iff I^{v}( \forall x \neg \psi) = 0\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\neg \psi) = 0\\
            &\iff \exists a\in D,\qquad 1+I^{v(x\mid a)}(\psi) = 0\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) = 1\\\\
            1 = I^v(\exists x \psi)
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) = 1.
        \end{align*}

        Por tanto, y puesto que trabajamos en $\bb{Z}_2$, hemos probado que:
        \begin{equation*}
            I^v(\exists x \psi) =I^v(\neg \forall x \neg \psi).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \exists x \psi \leftrightarrow \neg \forall x \neg \psi)
            &= 1+I(\exists x \psi)+I(\neg \forall x \neg \psi)=1
        \end{align*}
        \item $\models \forall x \psi \leftrightarrow \neg \exists x \neg \psi$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\neg \exists x \neg \psi)
            &\iff 1+I^v(\exists x \neg \psi) = 1\\
            &\iff I^{v}( \exists x \neg \psi) = 0\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\neg \psi) = 0\\
            &\iff \forall a\in D,\qquad 1+I^{v(x\mid a)}(\psi) = 0\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) = 1\\\\
            1 = I^v(\forall x \psi)
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) = 1.
        \end{align*}

        Por tanto, y puesto que trabajamos en $\bb{Z}_2$, hemos probado que:
        \begin{equation*}
            I^v(\forall x \psi) =I^v(\neg \exists x \neg \psi).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \forall x \psi \leftrightarrow \neg \exists x \neg \psi)
            &= 1+I(\forall x \psi)+I(\neg \exists x \neg \psi)=1
        \end{align*}
        \item $\models \forall x \psi \wedge \varphi \leftrightarrow \forall x(\psi \wedge \varphi)$, si $x$ no aparece libre en $\varphi$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\forall x(\psi \wedge \varphi))
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi \wedge \varphi) = 1\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi)I^{v(x\mid a)}(\varphi) = 1\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) = 1\text{ y }I^{v(x\mid a)}(\varphi) = 1\\
            &\stackrel{(\ast)}{\iff} \forall a\in D,\qquad I^{v(x\mid a)}(\psi) = 1\text{ y }I^{v}(\varphi) = 1\\
            &\iff I^v(\forall x\psi)=1\text{ y }I^v(\varphi)=1\\
            &\iff I^v(\forall x\psi\wedge\varphi)=1.
        \end{align*}
        donde $(\ast)$ se debe a que $x$ no aparece libre en $\varphi$ y $v$ y $v(x\mid a)$ tan solo difieren en el valor de $x$.
        Por el Lema de Coincidencia, $I^{v(x\mid a)}(\varphi) = I^v(\varphi)$ para cualquier $a\in D$.
        Por tanto:
        \begin{equation*}
            I^v(\forall x \psi \wedge \varphi) = I^v(\forall x(\psi \wedge \varphi)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \forall x \psi \wedge \varphi \leftrightarrow \forall x(\psi \wedge \varphi))
            &= 1+I(\forall x \psi \wedge \varphi)+I(\forall x(\psi \wedge \varphi))=1
        \end{align*}
        \item $\models \exists x \psi \wedge \varphi \leftrightarrow \exists x(\psi \wedge \varphi)$, si $x$ no aparece libre en $\varphi$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\exists x(\psi \wedge \varphi))
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi \wedge \varphi) = 1\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi)I^{v(x\mid a)}(\varphi) = 1\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) = 1\text{ y }I^{v(x\mid a)}(\varphi) = 1\\
            &\stackrel{(\ast)}{\iff} \exists a\in D,\qquad I^{v(x\mid a)}(\psi) = 1\text{ y }I^{v}(\varphi) = 1\\
            &\iff I^v(\exists x\psi)=1\text{ y }I^v(\varphi)=1\\
            &\iff I^v(\exists x\psi\wedge\varphi)=1.
        \end{align*}
        donde $(\ast)$ se debe a que $x$ no aparece libre en $\varphi$ y $v$ y $v(x\mid a)$ tan solo difieren en el valor de $x$. Por el Lema de Coincidencia, $I^{v(x\mid a)}(\varphi) = I^v(\varphi)$ para cualquier $a\in D$.
        Por tanto:
        \begin{equation*}
            I^v(\exists x \psi \wedge \varphi) = I^v(\exists x(\psi \wedge \varphi)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \exists x \psi \wedge \varphi \leftrightarrow \exists x(\psi \wedge \varphi))
            &= 1+I(\exists x \psi \wedge \varphi)+I(\exists x(\psi \wedge \varphi))=1
        \end{align*}
        \item $\models \forall x \psi \vee \varphi \leftrightarrow \forall x(\psi \vee \varphi)$, si $x$ no aparece libre en $\varphi$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\forall x(\psi \vee \varphi))
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi \vee \varphi) = 1\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) + I^{v(x\mid a)}(\varphi) + I^{v(x\mid a)}(\psi)I^{v(x\mid a)}(\varphi) = 1\\
            &\stackrel{(\ast)}{\iff} \forall a\in D,\qquad I^{v(x\mid a)}(\psi) + I^{v}(\varphi) + I^{v(x\mid a)}(\psi)I^{v}(\varphi) = 1\\
            1 = I^v(\forall x \psi \vee \varphi)
            &\iff I^v(\forall x \psi \vee \varphi) = 1\\
            &\iff I^v(\forall x \psi) + I^v(\varphi) + I^v(\forall x \psi)I^v(\varphi) = 1
        \end{align*}
        donde en $(\ast)$ hemos usado que $x$ no aparece libre en $\varphi$ y $v$ y $v(x\mid a)$ tan solo difieren en el valor de $x$. Por el Lema de Coincidencia, $I^{v(x\mid a)}(\varphi) = I^v(\varphi)$ para cualquier $a\in D$.

        Veamos que se da la equivalencia:
        \begin{itemize}
            \item Si $I^v(\varphi)=1$, entonces:
            \begin{align*}
                1 = I^v(\forall x(\psi \vee \varphi)) &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) + 1 + I^{v(x\mid a)}(\psi) = 1\\
                &\iff \forall a\in D, \ 0=0\\
                1 = I^v(\forall x \psi \vee \varphi)
                &\iff I^v(\forall x \psi) + 1 + I^v(\forall x \psi) = 1 \iff 0=0
            \end{align*}
            Por tanto, en este caso se da $I^v(\forall x \psi \vee \varphi) = I^v(\forall x(\psi \vee \varphi))$.\\

            \item Si $I^v(\varphi)=0$, entonces:
            \begin{align*}
                1 = I^v(\forall x(\psi \vee \varphi)) &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) + 0 + 0= 1\\
                &\iff I^v(\forall x \psi) = 1\\
                &\iff I^v(\forall x \psi) + 0 + 0 = 1\\
                &\iff 1 = I^v(\forall x \psi \vee \varphi)
            \end{align*}
            En este caso, también se da $I^v(\forall x \psi \vee \varphi) = I^v(\forall x(\psi \vee \varphi))$.
        \end{itemize}

        Por tanto, hemos probado que:
        \begin{equation*}
            I^v(\forall x \psi \vee \varphi) = I^v(\forall x(\psi \vee \varphi)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \forall x \psi \vee \varphi \leftrightarrow \forall x(\psi \vee \varphi))
            &= 1+I(\forall x \psi \vee \varphi)+I(\forall x(\psi \vee \varphi))=1
        \end{align*}

        \item $\models \exists x \psi \vee \varphi \leftrightarrow \exists x(\psi \vee \varphi)$, si $x$ no aparece libre en $\varphi$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\exists x(\psi \vee \varphi))
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi \vee \varphi) = 1\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) + I^{v(x\mid a)}(\varphi) + I^{v(x\mid a)}(\psi)I^{v(x\mid a)}(\varphi) = 1\\
            &\stackrel{(\ast)}{\iff} \exists a\in D,\qquad I^{v(x\mid a)}(\psi) + I^{v}(\varphi) + I^{v(x\mid a)}(\psi)I^{v}(\varphi) = 1\\
            1 = I^v(\exists x \psi \vee \varphi)
            &\iff I^v(\exists x \psi \vee \varphi) = 1\\
            &\iff I^v(\exists x \psi) + I^v(\varphi) + I^v(\exists x \psi)I^v(\varphi) = 1
        \end{align*}
        donde en $(\ast)$ hemos usado que $x$ no aparece libre en $\varphi$ y $v$ y $v(x\mid a)$ tan solo difieren en el valor de $x$. Por el Lema de Coincidencia, $I^{v(x\mid a)}(\varphi) = I^v(\varphi)$ para cualquier $a\in D$.
        Veamos que se da la equivalencia:
        \begin{itemize}
            \item Si $I^v(\varphi)=1$, entonces:
            \begin{align*}
                1 = I^v(\exists x(\psi \vee \varphi)) &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) + 1 + I^{v(x\mid a)}(\psi) = 1\\
                &\iff \exists a\in D, \ 0=0\\
                1 = I^v(\exists x \psi \vee \varphi)
                &\iff I^v(\exists x \psi) + 1 + I^v(\exists x \psi) = 1 \iff 0=0
            \end{align*}
            Por tanto, en este caso se da $I^v(\exists x \psi \vee \varphi) = I^v(\exists x(\psi \vee \varphi))$.\\

            \item Si $I^v(\varphi)=0$, entonces:
            \begin{align*}
                1 = I^v(\exists x(\psi \vee \varphi)) &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) + 0 + 0= 1\\
                &\iff I^v(\exists x \psi) = 1\\
                &\iff I^v(\exists x \psi) + 0 + 0 = 1\\
                &\iff 1 = I^v(\exists x \psi \vee \varphi)
            \end{align*}
            En este caso, también se da $I^v(\exists x \psi \vee \varphi) = I^v(\exists x(\psi \vee \varphi))$.
        \end{itemize}
        
        Por tanto, hemos probado que:
        \begin{equation*}
            I^v(\exists x \psi \vee \varphi) = I^v(\exists x(\psi \vee \varphi)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \exists x \psi \vee \varphi \leftrightarrow \exists x(\psi \vee \varphi))
            &= 1+I(\exists x \psi \vee \varphi)+I(\exists x(\psi \vee \varphi))=1
        \end{align*}
        \item $\models \forall x \psi \wedge \forall x \varphi \leftrightarrow \forall x(\psi \wedge \varphi)$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\forall x(\psi \wedge \varphi))
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi \wedge \varphi) = 1\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi)I^{v(x\mid a)}(\varphi) = 1\\
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\psi) = 1\text{ y }I^{v(x\mid a)}(\varphi) = 1\\
            &\iff \forall a_1,a_2\in D,\qquad I^{v(x\mid a_1)}(\psi) = 1\text{ y }I^{v(x\mid a_2)}(\varphi) = 1\\
            &\iff I^v(\forall x\psi)=1\text{ y }I^v(\forall x\varphi)=1\\
            &\iff I^v(\forall x\psi)I^v(\forall x\varphi)=1\\
            &\iff I^v(\forall x\psi\wedge\forall x\varphi)=1.
        \end{align*}

        Por tanto, hemos probado que:
        \begin{equation*}
            I^v(\forall x \psi \wedge \forall x \varphi) = I^v(\forall x(\psi \wedge \varphi)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \forall x \psi \wedge \forall x \varphi \leftrightarrow \forall x(\psi \wedge \varphi))
            &= 1+I(\forall x \psi \wedge \forall x \varphi)+I(\forall x(\psi \wedge \varphi))=1
        \end{align*}
        \item $\models \exists x \psi \vee \exists x \varphi \leftrightarrow \exists x(\psi \vee \varphi)$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\exists x(\psi \vee \varphi))
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi \vee \varphi) = 1\\
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\psi) + I^{v(x\mid a)}(\varphi) + I^{v(x\mid a)}(\psi)I^{v(x\mid a)}(\varphi) = 1\\
            1 = I^v(\exists x \psi \vee \exists x \varphi)
            &\iff I^v(\exists x \psi) + I^v(\exists x \varphi) + I^v(\exists x \psi)I^v(\exists x \varphi) = 1
        \end{align*}

        Veamos que se da la equivalencia:
        \begin{itemize}
            \item Si $I^v(\exists x \psi)=1$:
            
            En este caso, $\exists a\in D$ tal que $I^{v(x\mid a)}(\psi) = 1$. Por tanto, se tiene que:
            \begin{align*}
                \hspace{-2cm}&I^v(\exists x \psi \vee \exists x \varphi) = \cancelto{1}{I^v(\exists x \psi)} + I^v(\exists x \varphi) + \cancelto{1}{I^v(\exists x \psi)}I^v(\exists x \varphi) = 1\\
                \hspace{-2cm}\cancelto{1}{I^{v(x\mid a)}(\psi)} +& I^{v(x\mid a)}(\varphi) + \cancelto{1}{I^{v(x\mid a)}(\psi)}I^{v(x\mid a)}(\varphi)=1
                \Longrightarrow 1 = I^{v(x\mid a)}(\psi \vee \varphi)
                \Longrightarrow I^v(\exists x(\psi \vee \varphi)) = 1.
            \end{align*}

            Por tanto, en este caso se da $I^v(\exists x \psi \vee \exists x \varphi) = I^v(\exists x(\psi \vee \varphi))$.

            \item Si $I^v(\exists x \psi)=0$:
            
            En este caso, $\nexists a\in D$ tal que $I^{v(x\mid a)}(\psi) = 1$. Por tanto, se tiene que:
            \begin{align*}
                1 = I^v(\exists x(\psi \vee \varphi))
                &\iff \exists a\in D,\qquad 0+ I^{v(x\mid a)}(\varphi) + 0 = 1\\
                &\iff I^v(\exists x \varphi) = 1\\
                1 = I^v(\exists x \psi \vee \exists x \varphi)
                &\iff 0 + I^v(\exists x \varphi) + 0 = 1\iff I^v(\exists x \varphi) = 1
            \end{align*}

            De nuevo, se da $I^v(\exists x \psi \vee \exists x \varphi) = I^v(\exists x(\psi \vee \varphi))$.
        \end{itemize}

        En cualquier caso, hemos probado que:
        \begin{equation*}
            I^v(\exists x \psi \vee \exists x \varphi) = I^v(\exists x(\psi \vee \varphi)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \exists x \psi \vee \exists x \varphi \leftrightarrow \exists x(\psi \vee \varphi))
            &= 1+I(\exists x \psi \vee \exists x \varphi)+I(\exists x(\psi \vee \varphi))=1
        \end{align*}


        \item $\models \forall x \varphi(x) \leftrightarrow \forall y \varphi(y)$, $y$ variable que no aparece en $\forall x \varphi(x)$,
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\forall x \varphi(x))
            &\iff \forall a\in D,\qquad I^{v(x\mid a)}(\varphi(x)) = 1\\
            &\stackrel{(\ast)}{\iff} \forall a\in D,\qquad I^{v(y\mid a)}(\varphi(y)) = 1\\
            &\iff I^v(\forall y \varphi(y)) = 1.
        \end{align*}
        donde vamos ahora a argumentar el paso dado en $(\ast)$. Los únicos valores en los que difieren $v(x\mid a)$ y $v(y\mid a)$ son en el valor de $x$ y $y$. Vamos a estudiar qué ocurre:
        \begin{itemize}
            \item Como $y$ no aparece en $\forall x \varphi(x)$, entonces $v(x\mid a)(x)$ no es relevante.
            \item Como, tras calcular $\varphi(y)$ se sustituyen todas las ocurrencias libres de $x$ por $y$, entonces $v(y\mid a)(x)$ tampoco es relevante (las ocurrencias ligadas, por el Lema de Coincidencia, no supondrán problema).
            \item En el caso de que haya más variables libres en $\varphi$, estas serán distintas a $y$ y $x$, por lo que, por el Lema de Coincidencia, no supondrán problema.
            \item Sabemos que $v(x\mid a)(x) = v(y\mid a)(y)=a$.
        \end{itemize}
        Por tanto, hemos probado que:
        \begin{equation*}
            I^v(\forall x \varphi(x)) = I^v(\forall y \varphi(y)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \forall x \varphi(x) \leftrightarrow \forall y \varphi(y))
            &= 1+I(\forall x \varphi(x))+I(\forall y \varphi(y))=1
        \end{align*}
        \item $\models \exists x \varphi(x) \leftrightarrow \exists y \varphi(y)$, $y$ variable que no aparece en $\forall x \varphi(x)$.
        
        
        Sea $(\veps,v)$ una $\cc{L}$-interpretación. Por definición:
        \begin{align*}
            1 = I^v(\exists x \varphi(x))
            &\iff \exists a\in D,\qquad I^{v(x\mid a)}(\varphi(x)) = 1\\
            &\stackrel{(\ast)}{\iff} \exists a\in D,\qquad I^{v(y\mid a)}(\varphi(y)) = 1\\
            &\iff I^v(\exists y \varphi(y)) = 1.
        \end{align*}
        donde, por el mismo argumento que en el caso anterior, hemos dado el paso $(\ast)$.
        Por tanto, hemos probado que:
        \begin{equation*}
            I^v(\exists x \varphi(x)) = I^v(\exists y \varphi(y)).
        \end{equation*}

        Por tanto:
        \begin{align*}
            I( \exists x \varphi(x) \leftrightarrow \exists y \varphi(y))
            &= 1+I(\exists x \varphi(x))+I(\exists y \varphi(y))=1
        \end{align*}
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}\label{ej:2.7}
    Demuestra que $\not\models \forall x(\psi \vee \varphi) \rightarrow (\forall x \psi \vee \forall x \varphi)$.

    Consideramos la siguiente estructura $\veps$:
    \begin{itemize}
        \item $D = \bb{N}$,
        \item $R,S:\bb{N}\rightarrow\bb{Z}_2$ tales que:
        \begin{align*}
            R(n) &= n\mod 2=\begin{cases}
                0 & \text{si }n\text{ es par},\\
                1 & \text{si }n\text{ es impar},
            \end{cases}\\
            S(n) &= n\mod 2+1=\begin{cases}
                1 & \text{si }n\text{ es par},\\
                0 & \text{si }n\text{ es impar},
            \end{cases}
        \end{align*}
    \end{itemize}

    Consideremos además que $\varphi=R(x)$ y $\psi=S(x)$. Como además no hay variables libres, no es relevante dar una asignación. Por tanto:
    \begin{align*}
        1 &= I^v(\forall x(\psi \vee \varphi))= I^v(\forall x(S(x) \vee R(x))) 
        \\&\iff \forall n\in\bb{N},\ I^{v(x\mid n)}(S(x) \vee R(x)) = 1\\
        &\iff \forall n\in\bb{N},\ I^{v(x\mid n)}(S(x)) + I^{v(x\mid n)}(R(x)) + I^{v(x\mid n)}(S(x))I^{v(x\mid n)}(R(x)) = 1\\
        &\iff \forall n\in\bb{N},\ S(n) + R(n) + S(n)R(n) = 1\\
    \end{align*}
    Dado $n\in \bb{N}$, si $n$ es par entonces $S(n)=1$ y $R(n)=0$, mientras que si $n$ es impar entonces $S(n)=0$ y $R(n)=1$. Por tanto, se tiene que:
    \begin{equation*}
        \forall n\in\bb{N},\ S(n) + R(n) + S(n)R(n) = 1 \Longrightarrow 1=I^v(\forall x(\psi \vee \varphi)).
    \end{equation*}

    Estudiemos ahora la otra fórmula:
    \begin{align*}
        1 = I^v(\forall x \psi)&=I^v(\forall x S(x)) \iff \forall n\in\bb{N},\ I^{v(x\mid n)}(S(x)) = 1\\
        &\iff \forall n\in\bb{N},\ S(n) = 1\iff \forall n\in\bb{N},\ n\mod 2 = 0.\\
        1 = I^v(\forall x \varphi)&=I^v(\forall x R(x)) \iff \forall n\in\bb{N},\ I^{v(x\mid n)}(R(x)) = 1\\
        &\iff \forall n\in\bb{N},\ R(n) = 1\iff \forall n\in\bb{N},\ n\mod 2 = 1.
    \end{align*}

    Por tanto, $I^v(\forall x \varphi)=I^v(\forall x \psi)=0$. Por tanto, con esta interpretación se tiene que:
    \begin{align*}
        I^v\left(\forall x(\psi \vee \varphi) \rightarrow (\forall x \psi \vee \forall x \varphi)\right)
        &= 1+I^v(\forall x(\psi \vee \varphi))+I^v(\forall x(\psi \vee \varphi))I^v(\forall x \psi \vee \forall x \varphi) =\\&= 1+1+1\cdot \left(I^v(\forall x \psi) + I^v(\forall x \varphi) + I^v(\forall x \psi)I^v(\forall x \varphi)\right) =\\&= 1+1+1\cdot(0+0+1\cdot 0) = 1+1+1\cdot 0 = 0
    \end{align*}

    Por tanto, $\not\models \forall x(\psi \vee \varphi) \rightarrow (\forall x \psi \vee \forall x \varphi)$.
\end{ejercicio}

\begin{ejercicio}\label{ej:2.8}
    $\vdash \forall x(\psi \rightarrow \varphi) \rightarrow (\exists x \psi \rightarrow \exists x \varphi)$.\\

    Por su valor semántico, sabemos que esto es equivalente a demostrar:
    \begin{equation*}
        \vdash \forall x(\psi \rightarrow \varphi) \rightarrow (\neg\forall x\neg \psi \rightarrow \neg\forall x\neg \varphi)
    \end{equation*}

    Con vistas a aplicar el Teorema de la deducción, intentaremos demostrar lo que sigue con cuidado:
    \begin{equation*}
        \{\forall x(\psi \rightarrow \varphi), \neg\forall x\neg \psi \}\vdash \neg\forall x\neg \varphi
    \end{equation*}

    Añadiremos como hipótesis $\forall x\neg \varphi$, con vistas a emplear el Teorema de Reducción al Absurdo débil. Por tanto:
    \begin{enumerate}
        \item $\forall x\neg \varphi$ es una hipótesis.
        \item $\forall x\neg\varphi \rightarrow \neg\varphi\in \cc{A}_4$.
        \item $\neg\varphi$ por Modus Ponens de 1 y 2.
        \item $\forall x(\psi \rightarrow \varphi)\rightarrow (\psi \rightarrow \varphi)\in \cc{A}_4$.
        \item $\forall x(\psi \rightarrow \varphi)\in \cc{A}_4$.
        \item $\psi \rightarrow \varphi$ por Modus Ponens de 4 y 5.
        \item $\neg \varphi \rightarrow \neg \psi$ por las leyes de Contraposición.
        \item $\neg \psi$ por Modus Ponens de 3 y 7.
        \item $\forall x\neg \psi$ por la Generalización de $8$ \qquad (Generalización sobre $x$).
        \item $\neg\forall x\neg \psi$ es una hipótesis.
    \end{enumerate}

    Por tanto, por el Teorema de Reducción al Absurdo débil, hemos probado que:
    \begin{equation*}
        \{\forall x(\psi \rightarrow \varphi), \neg\forall x\neg \psi \}\vdash \neg\forall x\neg \varphi
    \end{equation*}

    Como no hemos generalizado sobre variables libres (puesto que $x$ aparece cuantificada en ambas hipótesis), podemos aplicar el Teorema de la deducción y concluir que:
    \begin{equation*}
        \vdash \forall x(\psi \rightarrow \varphi) \rightarrow (\exists x \psi \rightarrow \exists x \varphi).
    \end{equation*}
    
\end{ejercicio}

\begin{ejercicio}\label{ej:2.9}
    $\vdash \exists x(\varphi \rightarrow \psi) \rightarrow (\forall x \varphi \rightarrow \psi)$, supuesto que $x$ no aparece libre en $\psi$
    \begin{observacion}
        Intenta probar $\{\neg \psi, \forall x \varphi\} \vdash \forall x \neg (\varphi \rightarrow \psi)$.
    \end{observacion}~

    Buscaremos en primer lugar demostrar $\{\neg \psi, \forall x \varphi\} \vdash \neg (\varphi \rightarrow \psi)$. Con vistas a aplicar el Teorema de reducción al Absurdo débil, añadimos como hipótesis $\varphi \rightarrow \psi$.
    \begin{enumerate}
        \item $\neg \psi$ es una hipótesis.
        \item $\forall x \varphi$ es una hipótesis.
        \item $\forall x \varphi \rightarrow \varphi\in \cc{A}_4$.
        \item $\varphi$ por Modus Ponens de 2 y 3.
        \item $\varphi \rightarrow \psi$ es una hipótesis.
        \item $\psi$ por Modus Ponens de 4 y 5.
    \end{enumerate}

    Por tanto, por el Teorema de Reducción al Absurdo débil, hemos probado que:
    \begin{equation*}
        \{\neg \psi, \forall x \varphi\} \vdash \neg (\varphi \rightarrow \psi).
    \end{equation*}

    Generalizando sobre $x$, se tiene que:
    \begin{equation*}
        \{\neg \psi, \forall x \varphi\} \vdash \forall x \neg (\varphi \rightarrow \psi).
    \end{equation*}

    Como $x$ no aparece libre en $\psi$, tampoco aparecerá libre en $\neg\psi$. Por tanto, por el Teorema de la deducción, podemos concluir que:
    \begin{equation*}
        \{\forall x\varphi\} \vdash \neg\psi\rightarrow \forall x \neg (\varphi \rightarrow \psi).
    \end{equation*}

    Por las Leyes de Contraposición, se tiene que:
    \begin{equation*}
        \{\forall x\varphi\} \vdash \neg\forall x \neg (\varphi \rightarrow \psi) \rightarrow \psi.
    \end{equation*}

    Por la implicación sencilla del Teorema de la deducción, se tiene que:
    \begin{equation*}
        \{\forall x\varphi, \neg\forall x \neg (\varphi \rightarrow \psi)\} \vdash \psi.
    \end{equation*}

    Como tan solo hemos generalizado sobre $x$ y esta aparece ligada en ambas hipótesis, podemos aplicar dos veces el Teorema de la deducción. En primer lugar:
    \begin{equation*}
        \{\neg\forall x \neg (\varphi \rightarrow \psi)\} \vdash \forall x\varphi \rightarrow \psi.
    \end{equation*}

    Y, en segundo lugar:
    \begin{equation*}
        \vdash \neg\forall x \neg (\varphi \rightarrow \psi) \rightarrow (\forall x\varphi \rightarrow \psi).
    \end{equation*}

    Por su equivalencia semántica, hemos probado que:
    \begin{equation*}
        \vdash \exists x(\varphi \rightarrow \psi) \rightarrow (\forall x \varphi \rightarrow \psi).
    \end{equation*}
\end{ejercicio}

\begin{ejercicio}\label{ej:2.10}
    $\vdash \neg \forall x \psi \rightarrow \exists x \neg \psi$.\\

    Por su equivalencia semántica, sabemos que esto es equivalente a demostrar:
    \begin{equation*}
        \vdash \neg \forall x \psi \rightarrow \neg\forall x(\neg\neg\psi)
    \end{equation*}

    Por las Leyes de Contraposición, sabemos que esto es equivalente a demostrar:
    \begin{equation*}
        \vdash \forall x(\neg\neg\psi) \rightarrow \forall x \psi
    \end{equation*}

    Con vistas a aplicar el Teorema de la deducción, intentaremos demostrar lo que sigue con cuidado:
    \begin{equation*}
        \{\forall x(\neg\neg\psi)\} \vdash \forall x \psi
    \end{equation*}
    \begin{enumerate}
        \item $\forall x(\neg\neg\psi)$ es una hipótesis.
        \item $\forall x(\neg\neg\psi) \rightarrow \neg\neg\psi\in \cc{A}_4$.
        \item $\neg\neg\psi$ por Modus Ponens de 1 y 2.
        \item $\psi$ por la Ley de Doble Negación.
        \item $\forall x\psi$ por la Generalización de 4 \qquad (Generalización sobre $x$).
    \end{enumerate}

    Como $x$ aparece ligada en la hipótesis, podemos aplicar el Teorema de la deducción y concluir que:
    \begin{equation*}
        \vdash \forall x(\neg\neg\psi) \rightarrow \forall x \psi.
    \end{equation*}

    Por las Leyes de Contraposición y su valor semántico, se tiene lo pedido.
\end{ejercicio}

\begin{ejercicio}\label{ej:2.11}
    Si $x$ no aparece libre en $\psi$, $\vdash (\forall x \varphi \rightarrow \psi) \rightarrow \exists x(\varphi \rightarrow \psi)$.\\

    Por su equivalencia semántica, sabemos que esto es equivalente a demostrar:
    \begin{equation*}
        \vdash (\forall x \varphi \rightarrow \psi) \rightarrow \neg\forall x \neg(\varphi \rightarrow \psi)
    \end{equation*}

    Con vistas a aplicar el Teorema de la deducción, intentaremos demostrar lo que sigue con cuidado:
    \begin{equation*}
        \{\forall x \varphi \rightarrow \psi\} \vdash \neg\forall x \neg(\varphi \rightarrow \psi)
    \end{equation*}

    Con vistas a aplicar el Teorema de reducción al Absurdo débil, añadimos como hipótesis $\forall x \neg(\varphi \rightarrow \psi)$.
    \begin{enumerate}
        \item $\forall x \neg(\varphi \rightarrow \psi)$ es una hipótesis.
        \item $\forall x \neg(\varphi \rightarrow \psi)\rightarrow \neg(\varphi \rightarrow \psi)\in \cc{A}_4$.
        \item $\neg(\varphi \rightarrow \psi)$ por Modus Ponens de 1 y 2.
        \item $\neg \varphi\rightarrow (\varphi \rightarrow \psi)$ por las Leyes de Duns Scoto.
        \item $\neg(\varphi \rightarrow \psi)\rightarrow \varphi$ por las Leyes de Contraposición aplicadas a $4$.
        \item $\varphi$ por Modus Ponens de 3 y 5.
        \item $\forall x \varphi$ por la Generalización de 6 \qquad (Generalización sobre $x$).
        \item $\forall x \varphi \rightarrow \psi$ es una hipótesis.
        \item $\psi$ por Modus Ponens de 7 y 8.
        \item $\psi\to (\varphi\to \psi)\in\cc{A}_1$.
        \item $\varphi\to \psi$ por Modus Ponens de 9 y 10. 
    \end{enumerate}

    Como $x$ no aparece libre en la hipótesis adicional que hemos añadido, entonces:
    \begin{equation*}
        \{\forall x \varphi \rightarrow \psi\} \vdash \neg\forall x \neg(\varphi \rightarrow \psi)
    \end{equation*}

    Como tan solo hemos generalizado sobre $x$ y esta no aparece libre en $\psi$, podemos aplicar el Teorema de la deducción y concluir que:
    \begin{equation*}
        \vdash (\forall x \varphi \rightarrow \psi) \rightarrow \neg\forall x \neg(\varphi \rightarrow \psi).
    \end{equation*}
\end{ejercicio}



\begin{ejercicio}
    En un sistema de primer orden con igualdad, demuestra que las siguientes fórmulas son teoremas:
    \begin{enumerate}
        \item $\forall x (x = x)$.
        
        Se tiene de forma directa por ser un axioma.
        \item $\forall x \forall y (x = y \rightarrow y = x)$.
        \begin{enumerate}[label=\arabic*.]
            \item $\forall x(x=x)\in \cc{A}_6$.
            \item $\forall x(x=x)\to (x=x)\in \cc{A}_4$.
            \item $x=x$ por modus ponens de 1 y 2.
            \item $(x=x)\to [(x=y)\to (x=x)]\in \cc{A}_1$.
            \item $(x=y)\to (x=x)$ por modus ponens de 3 y 4.
            \item $(x=y)\to [(x=x)\to (y=x)]\in \cc{A}_7$.
            \item $(x=x)\to [(x=y)\to (y=x)]$ por la Regla de Conmutación de las Premisas aplicada a 6.
            \item $(x=y)\to (y=x)$ por modus ponens de 3 y 7.
            \item $\forall x\forall y (x=y\to y=x)$ por generalización en $y,x$.
        \end{enumerate}
        
        \item $\forall x \forall y \forall z (x = y \rightarrow (y = z \rightarrow x = z))$.
        \begin{enumerate}[label=\arabic*.]
            \item $(y = x) \rightarrow (y = z \rightarrow x = z)\in \cc{A}_7$
            \item $\forall x\forall y (x=y\to y=x)$ por el apartado anterior.
            \item $(x=y\to y=x)$ tras aplicar dos veces el axioma $4$ y modus ponens.
            \item $(x = y) \rightarrow (y = z \rightarrow x = z)$ por la Regla del Silogismo aplicada a $3$ y $1$.
            \item $\forall x \forall y \forall z (x = y \rightarrow (y = z \rightarrow x = z))$ tras generalizar en $z,y,x$.
        \end{enumerate}
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}
    Sean $n, m \in \mathbb{N}$. En la aritmética de primer orden $\cc{N}$ prueba que:
    \begin{enumerate}
        \item si $n \neq m$, entonces $\vdash_{\cc{N}} \neg (s^n(0) = s^m(0))$,
        
        Con vistas a aplicar el Teorema de Reducción al Absurdo débil, suponemos como única hipótesis $s^n(0) = s^m(0)$. Además, podemos suponer $n>m$ sin pérdida de generalidad (en caso contrario, tendremos que aplicar la propiedad simétrica de la igualdad, demostrada en el ejercicio anterior). Entonces, tenemos que:
        \begin{enumerate}[label=\arabic*.]
            \item $s(s^{n-1}(0)) = s(s^{m-1}(0))$ es una hipótesis.
            \item $s(s^{n-1}(0)) = s(s^{m-1}(0))\to (s^{n-1}(0)=s^{m-1}(0))\in \cc{N}_2$.
            \item $s^{n-1}(0)=s^{m-1}(0)$ por modus ponens de 1 y 2.\\
            $\vdots$
            \item [$3(m-1).$] $s^{n-m+1}(0)=s(0)$ por modus ponens de $3(m-1)-1$ y $3(m-1)-2$.
            \item [$3(m-1)+1.$] $s\left(s^{n-m}(0)\right)=s(0)\to \left(s^{n-m}(0)=0\right)\in \cc{N}_2$.
            \item [$3(m-1)+2.$] $s^{n-m}(0)=0$ por modus ponens de $3(m-1)+1$ y $3(m-1)$.
            \item [$3m.$] $s(s^{n-m-1}(0))\neq 0\in \cc{N}_2$, puesto que $n-m-1\geq 0$.
        \end{enumerate}

        Por el Teorema de Reducción al Absurdo débil, se concluye que $s^n(0) \neq s^m(0)$.\\
        \item si $n = m$, entonces $\vdash_{\cc{N}} (s^n(0) = s^m(0))$,
        
        Como $n=m$, y $s$ es una aplicación, se tiene que $s^n(0)$ y $s^m(0)$ son el mismo elemento. Por lo tanto:
        \begin{enumerate}[label=\arabic*.]
            \item $s^n(0) = s^m(0)\in \cc{A}_6$.
        \end{enumerate}~
        \item $\vdash_{\cc{N}} (s^n(0) + s^m(0) = s^{n+m}(0))$.
        \begin{enumerate}[label=\arabic*.]
            \item $s^{n}(0)+ s(s^{m-1}(0)) = s(s^{n}(0)+s^{m-1}(0))\in \cc{N}_2$.\\
            \vdots
            \item[$m-1$.] $s^{m-2}(s^{n}(0)+s(s(0))) = s^{m-1}(s^{n}(0)+s(0))\in \cc{N}_2$.
            \item[$m$.] $s^{m-1}(s^{n}(0)+s(0))=s^{m}(s^{n}(0)+0)\in \cc{N}_2$.
            \item[$m+1$.] $s^{n}(0)+0=s^n(0)\in \cc{N}_3$.
            \item[$m+2$.] $s^{n}(0)+0=s^n(0) \to s^{m}(s^{n}(0)+0)=s^m(s^n(0))\in \cc{A}_7$.
            \item[$m+3$.] $s^{m-1}(s^{n}(0)+s(0))=s^{m}(s^{n}(0))$ por Modus ponens de $m$ y $m+2$ y transitividad.
            \item[$m+4$.] $s^n(0) + s^m(0) = s^{n+m}(0)$ tras aplicar la transitividad a $1,\dots,m-1$ y $m+3$.
        \end{enumerate}
    \end{enumerate}
\end{ejercicio}

\begin{ejercicio}
    Usando los ejercicios anteriores, prueba que para todo $n, m \in \mathbb{N}$, $n + m = m + n$ en $\cc{N}$, a saber,
    \[
        \vdash_{\cc{N}} s^n(0) + s^m(0) = s^m(0) + s^n(0).
    \]
    \begin{enumerate}
        \item $s^n(0) + s^m(0)=s^{n+m}(0)$ por el ejercicio anterior.
        \item $s^{n+m}(0)=s^{m+n}(0)$ por la conmutatividad en $\bb{N}$.
        \item $s^m(0) + s^n(0)=s^{m+n}(0)$ por el ejercicio anterior.
        \item $s^{m+n}(0)=s^m(0) + s^n(0)$ por la simetría de la igualdad.
        \item $s^n(0) + s^m(0)=s^m(0) + s^n(0)$ por la transitividad aplicada a $1,2,4$.
    \end{enumerate}
\end{ejercicio}
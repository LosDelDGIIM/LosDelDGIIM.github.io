\documentclass[12pt]{article}

\input{../../_assets/preambulo.tex}


\begin{document}

    % 1. Foto de fondo
    % 2. Título
    % 3. Encabezado Izquierdo
    % 4. Color de fondo
    % 5. Coord x del titulo
    % 6. Coord y del titulo
    % 7. Fecha

    
    \input{../../_assets/portada}
    \portadaExamen{etsiitA4.jpg}{DDSI\\Examen I}{DDSI. Examen I}{MidnightBlue}{-8}{28}{2026}{}

    \begin{description}
        \item[Asignatura] Diseño y Desarrollo de Sistemas de Información.
        \item[Curso Académico] 2023/24.
        \item[Grado] Ingeniería Informática.
        % \item[Grupo] ---.
        % \item[Profesor] ---.
        \item[Descripción] Examen Ordinario del Tema 3.
        \item[Fecha] 24 de enero de 2024.
        \item[Duración] Una hora y media.
    
    \end{description}
    \newpage


    % ------------------------------------

    \begin{ejercicio}
        Dada una tabla con esquema $(C,G,K,M,L,J)$ donde se cumple el conjunto de dependencias siguiente:
        \begin{equation*}
            \{C\rightarrow G, K\rightarrow M, GL\rightarrow M, KC\rightarrow J, JG\rightarrow L\}
        \end{equation*}
        \begin{enumerate}[label=\alph*)]
            \item\textbf{[2 puntos]} Determine todas las claves candidatas de la tabla, justificando el resultado explicando el algoritmo seguido.
            \item\textbf{[1.5 puntos]} El diseñador de la base de datos está pensando sustituir la tabla original por tres con esquemas $(J,C,K), (K,C,G,L)$ y $(G,L,M)$ respectivamente. Sin entrar en consideraciones de si la sustitución de la tabla original por estas tres es adecuada o no como diseño lógico, responda de manera justificada si las tres tablas descritas son una descomposición sin pérdidas de la tabla original.
            \item\textbf{[1.5 puntos]} Si finalmente se hiciese la sustitución de la tabla original por las tres tablas mencionadas en el apartado anterior, ¿se perdería alguna de las dependencias indicadas al comienzo que cumplía la tabla original? Justifique su respuesta demostrando en su caso cuáles y por qué se pierden.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[3 puntos]
        Dada una tabla donde se cumple el conjunto de dependencias siguiente:
        \begin{equation*}
            \{A\rightarrow B, AC\rightarrow E, A\rightarrow D, ED\rightarrow B, AE\rightarrow C\}
        \end{equation*}
        y cuyas únicas claves candidatas son $AC$ y $AE$, normalice dicha tabla en Forma Normal de Bayce-Cood con respecto al conjunto de dependencias asumiendo que estuviera en $2FN$ y $3FN$ y y que el esquema de la tabla solo contiene los atributos que aparecen en el conjunto de dependencias. Indique los esquemas de las tablas resultantes y justifique los procedimientos seguidos para realizar la normalización. \textbf{Indique asimismo si se pierde alguna de las dependencias al normalizar, justificando la respuesta}.
    \end{ejercicio}

    \begin{ejercicio}[1 punto]
        En el ejercicio anterior, ¿podría ocurrir que el esquema de la tabla contuviese algún atributo además de los que aparecen en las dependencias? En caso negativo, justifique la respuesta. En caso afirmativo, indique cómo afectaría al proceso de normalización realizado.
    \end{ejercicio}

    \begin{ejercicio}[1 punto]
        Calcule un recubrimiento minimal (también llamado canónico) para el siguiente conjunto de dependencias:
        \begin{equation*}
            \{V\rightarrow B, E\rightarrow A, VA\rightarrow Z, V\rightarrow E, E\rightarrow B\}
        \end{equation*}
    \end{ejercicio}

    \newpage
    \setcounter{ejercicio}{0}
    \noindent
    \textbf{Soluciones\footnote{A continuación se detallan las soluciones a los ejercicios, pero faltaría razonar todo el procedimiento para llegar a estas respuestas, indicando además todos los procesos a la hora de aplicar los algoritmos correspondientes.}.}

    \begin{ejercicio}
        Dada una tabla con esquema $(C,G,K,M,L,J)$ donde se cumple el conjunto de dependencias siguiente:
        \begin{equation*}
            \{C\rightarrow G, K\rightarrow M, GL\rightarrow M, KC\rightarrow J, JG\rightarrow L\}
        \end{equation*}
        \begin{enumerate}[label=\alph*)]
            \item\textbf{[2 puntos]} Determine todas las claves candidatas de la tabla, justificando el resultado explicando el algoritmo seguido.

                Tras aplicar el algoritmo se obtiene que la única clave candidata es $CK$.
            \item\textbf{[1.5 puntos]} El diseñador de la base de datos está pensando sustituir la tabla original por tres con esquemas $(J,C,K), (K,C,G,L)$ y $(G,L,M)$ respectivamente. Sin entrar en consideraciones de si la sustitución de la tabla original por estas tres es adecuada o no como diseño lógico, responda de manera justificada si las tres tablas descritas son una descomposición sin pérdidas de la tabla original.

                Se comprueba que sí es sin pérdidas.
            \item\textbf{[1.5 puntos]} Si finalmente se hiciese la sustitución de la tabla original por las tres tablas mencionadas en el apartado anterior, ¿se perdería alguna de las dependencias indicadas al comienzo que cumplía la tabla original? Justifique su respuesta demostrando en su caso cuáles y por qué se pierden.

                Se pierden $K\rightarrow M$ y $JG\rightarrow L$, y no se pueden recuperar.
        \end{enumerate}
    \end{ejercicio}

    \begin{ejercicio}[3 puntos]
        Dada una tabla donde se cumple el conjunto de dependencias siguiente:
        \begin{equation*}
            \{A\rightarrow B, AC\rightarrow E, A\rightarrow D, ED\rightarrow B, AE\rightarrow C\}
        \end{equation*}
        y cuyas únicas claves candidatas son $AC$ y $AE$, normalice dicha tabla en Forma Normal de Bayce-Cood con respecto al conjunto de dependencias asumiendo que estuviera en $2FN$ y $3FN$ y y que el esquema de la tabla solo contiene los atributos que aparecen en el conjunto de dependencias. Indique los esquemas de las tablas resultantes y justifique los procedimientos seguidos para realizar la normalización. \textbf{Indique asimismo si se pierde alguna de las dependencias al normalizar, justificando la respuesta}.\\

        \noindent
        Obtenemos tras aplicar el algoritmo las tablas:
        \begin{align*}
            &(A, B), \qquad \{A\rightarrow B\}, \qquad CK = \{A\} \\
            &(A,D),\qquad \{A\rightarrow D\}, \qquad CK = \{A\} \\
            &(A,C,E), \qquad \{AC\rightarrow E, AE\rightarrow C\}, \qquad CK = \{AC, AE\}
        \end{align*}
        Se ha perdido la dependencia $ED\rightarrow B$ y no se puede recuperar.
    \end{ejercicio}

    \begin{ejercicio}[1 punto]
        En el ejercicio anterior, ¿podría ocurrir que el esquema de la tabla contuviese algún atributo además de los que aparecen en las dependencias? En caso negativo, justifique la respuesta. En caso afirmativo, indique cómo afectaría al proceso de normalización realizado.\\

        \noindent
        No podría ocurrir, si existiera un atributo $X$ que no aparece en las relaciones anteriores, entonces conocido el valor de cualquiera de las claves candidatas no podemos conocer el valor de $X$ (ya que no hay ninguna dependencia funcional que determine $X$), por lo que las claves candidatas que se nos indican en el ejercicio 2 no serían en realidad claves candidatas.
    \end{ejercicio}

    \begin{ejercicio}[1 punto]
        Calcule un recubrimiento minimal (también llamado canónico) para el siguiente conjunto de dependencias:
        \begin{equation*}
            \{V\rightarrow B, E\rightarrow A, VA\rightarrow Z, V\rightarrow E, E\rightarrow B\}
        \end{equation*}
        Tras aplicar el algoritmo se obtiene:
        \begin{equation*}
            \{E\rightarrow A, V\rightarrow Z, V\rightarrow E, E\rightarrow B\}
        \end{equation*}
    \end{ejercicio}
    
\end{document}

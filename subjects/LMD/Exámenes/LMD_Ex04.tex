\documentclass[12pt]{article}

\input{../../_assets/preambulo.tex}
% Define a custom command for email addresses
\newcommand{\email}[1]{\href{mailto:#1}{{{\color{blue}#1}}}}

\fancyhead[L]{\helv \nouppercase{\leftmark}}
\fancyhead[R]{\helv \nouppercase{\rightmark}}


% Comando para \bf en vez de \mathbf
\renewcommand{\bf}[1]{\mathbf{#1}}

% Operador matemático para \Con
\DeclareMathOperator{\Con}{Con}

% Operador matemático para los átomos
\DeclareMathOperator{\Atm}{Atm}

\DeclareMathOperator{\Exp}{Exp}


% Comando para \dom
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\Clc}{Clc}


% Paquete para mapas de Karnaugh
\usepackage{karnaugh-map}

% Tachar filas
\usetikzlibrary{tikzmark}

\usepackage{forest}


\begin{document}

     % 1. Foto de fondo
    % 2. Título
    % 3. Encabezado Izquierdo
    % 4. Color de fondo
    % 5. Coord x del titulo
    % 6. Coord y del titulo
    % 7. Fecha

    
    \input{../../_assets/portada}
    \portadaExamen{etsiitA4.jpg}{LMD\\Examen IV}{Lógica y Métodos Discretos. Examen IV}{MidnightBlue}{-8}{28}{2024-2025}{Ángel Caro Montalbán\\Manuel Jiménez Galey\\Marco Zafra Rodríguez}
    \vspace{-2cm}
    \begin{description}
        \item[Asignatura] Lógica y Métodos Discretos.
        \item[Curso Académico] 2024-25.
        \item[Grado] Doble Grado en Ingienería Informática y Matemáticas.
        \item[Grupo] Único.
        \item[Profesor] Francisco Miguel García Olmedo.
        \item[Descripción] Convocatoria Ordinaria.
        \item[Fecha] 11 de junio de 2025.
        \item[Observaciones] El examen se hacía por grupos de 3/4 personas. Tan solo se pedía entregar 4 ejercicios de los 5 propuestos. Además, de ser necesario, las preguntas se pueden estudiar de una manera no libre excluyendo el uso de fórmulas no definidas en lo que conocemos de la resolución lineal ordenada. En caso negativo, dé una interpretación que cumpla la satisfacción de las hipótesis incluidas pero sin embargo haga falsa la pretendida tesis (contraejemplo); seguidamente se añade a las hipótesis condiciones suficientes (fórmulas) no obvias que una vez incluidas entre las hipótesis, llevan a una respuesta afirmativa.
    \end{description}
    \newpage



\begin{ejercicio}
    $M \subseteq B_{\Exp}(X)$ es constructivamente cerrado sii, por def., para todo $\alpha, \beta \in M$, $\{\neg \alpha, \alpha \rightarrow \beta\} \subseteq M$.
    Considere ahora
    \begin{equation}\label{eq:1}
        \bigcap \{M \subseteq B_{\Exp}(X): X \subseteq M \text{ y } M \text{ es constructivamente cerrado}\}
    \end{equation}
    Diga razonadamente si la expresión~\eqref{eq:1} define un conjunto y en caso afirmativo caracterice sus elementos.
\end{ejercicio}

\begin{ejercicio}
    Clasifique la siguiente fórmula que representaremos por $\alpha$ y que está expresada en cierto lenguaje de primer orden:
    \[
        \forall x \exists y (\varphi(x,y) \rightarrow f(x,y)) \rightarrow \exists z \exists y (\varphi(y,z) \rightarrow \neg \varphi(x,y))
    \]
\end{ejercicio}

\begin{ejercicio}
    Dada cualquier fórmula $\varphi$ en un lenguaje de primer orden, formalice el proceso de obtención de una forma de Skolem $\varphi^{sk}$ a partir de una fórmula en forma prenexa de $\varphi$ y después demuestre que $\varphi$ es satisfacible sii, y sólo sii, $\varphi^{sk}$ es satisfacible.
\end{ejercicio}
\begin{ejercicio}
    Usando exclusivamente lo que conocemos de resolución, diga razonadamente si son o no satisfacibles los siguientes conjuntos de cláusulas que damos representadas por sus matrices correspondientes:
    \begin{enumerate}
        \item $\Sigma_1 = \{p(f(x), y), \neg p(x, f(y))\}$
        \item $\Sigma_2 = \{p(x, z) \lor p(x, f(z)), \neg p(f(b), z)\}$
        \item $\Sigma_3 = \{p(f(u), f(b)) \lor p(f(x), y), \neg p(x, f(f(y))) \lor \neg p(f(u), z)\}$
        \item $\Sigma_4 = \{p(x, z) \lor p(x, f(z)), \neg p(x, z)\}$
        \item $\Sigma_5 = \{p(f(x), z) \rightarrow \forall y q(x, z, z), \neg q(x, y), g(g(x), a), g(g(a), x)\}$
        \item $\Sigma_6 = \{p(x, y, z) \lor q(x, z, y), p(x, z) \lor \neg q(x, z, y), \neg p(x, z, y) \lor q(x, y, z),$\\$\neg q(x, z, z) \lor \neg q(x, z, y)\}$
    \end{enumerate}
\end{ejercicio}
\begin{ejercicio}
    La relación binaria $r$ es circular sii y sólo sii, por definición, para cualesquiera elementos $a$, $b$ y $c$ del conjunto subyacente, $(a, c) \in r$ siempre que $(a, b) \in r$ y $(b, c) \in r$. Responda razonadamente a las siguientes preguntas:
    \begin{enumerate}
        \item ¿Es toda relación de equivalencia una relación circular?
        \item ¿Es toda relación circular una relación de equivalencia?
    \end{enumerate}
\end{ejercicio}


\newpage
\setcounter{ejercicio}{0}

\begin{ejercicio}
    $M \subseteq B_{\Exp}(X)$ es constructivamente cerrado sii, por def., para todo $\alpha, \beta \in M$, $\{\neg \alpha, \alpha \rightarrow \beta\} \subseteq M$.
    Considere ahora
    \begin{equation}\label{eq:2}
        \bigcap \{M \subseteq B_{\Exp}(X): X \subseteq M \text{ y } M \text{ es constructivamente cerrado}\}
    \end{equation}
    Diga razonadamente si la expresión~\eqref{eq:2} define un conjunto y en caso afirmativo caracterice sus elementos.\\

    En primer lugar, el conjunto universo que estamos considerando es $\Exp(X)$, el conjunto de todas las fórmulas sobre un lenguaje de primer orden con base $X$. \\

    Para demostrarlo tomaremos la siguiente familia de conjuntos:
    \[
        F=\{M \subseteq \Exp(X) : X \subseteq M \text{ y M es constructivamente cerrado}\}
    \]

    Veamos que $F$ no es vacía. $\Exp(X)$ es constructivamente cerrado que contiene a $X$, entonces $Exp(X) \in F$ lo cual implica que $F$ es no es vacía. \\

    Lo sabemos además porque $M$ es constructivamente cerrado, es decir, se tiene que $\forall \alpha, \beta \in M \mid \{\lnot \alpha, \alpha \rightarrow \beta\} \subseteq M$.
    Si $M=\Exp(X)$, entonces $X \subseteq $ Exp(X) y Exp(X) es constructivamente cerrado entonces $M=\Exp(X) \in F$. \\ 


    Si $U$ es un conjunto y $F$ una familia de subconjuntos de $U$, por teoría de conjuntos, tenemos $\bigcap F \subseteq U$ que es un conjunto. En este caso $U = \Exp(X)$, luego $\bigcap F \subseteq \Exp(X)$, es decir, $\bigcap F \subseteq \cc{P}(Exp(X))$, y al ser $\cc{P}(\Exp(X))$ un conjunto, entonces $\bigcap F$ es un conjunto. \\

Por tanto, la expresión~\eqref{eq:2} define un subconjunto de $\Exp(X)$, es decir, un conjunto. \\


Ahora procedemos a definir una caracterización rigurosa de los elementos.  
La intersección de todos los conjuntos $M$ que cumplen estas condiciones es el
menor conjunto constructor cerrado que contiene a $X$. 
Se denota como $\Clc(X)$ a la clausura constructiva de $X$.
La clausura es el menor conjunto constructivamente cerrado que contiene a $X$,
pues por definición $\forall M \in F \quad X \subseteq M$ luego todo $M \in F$ es cerrado 
si: 
\[
\begin{array}{lcl}
\lnot \alpha & \text{si} & \alpha \in M \\
\alpha \rightarrow \beta & \text{si} & \alpha, \beta \in M
\end{array}
\quad
\forall \alpha, \beta \in M \mid\ \{\lnot \alpha, \alpha \rightarrow \beta\} \subseteq M
\]

La intersección de todos ellos es el más pequeño posible que respeta las condiciones (el mínimo). Construimos el conjunto $\Clc(X)$ por inducción.
La demostración es por inducción según el primer principio de inducción matemática y predicado $P(n)$ del contenido literal (tenor):
\[\Clc^n(X) = \bigcup_{i = 0}^{n} \Clc^i(X)\] \\ 

\begin{itemize}
    \item {Caso base:} $n = 0$ \\
    \[\Clc^0(X) = X\]
    \item Como hipótesis de inducción supondremos que $n \in \omega = \mathbb{N}\cup\{0\}$ y que $P(n)$ es cierto, es decir, que 
    $\Clc^n(X) = \bigcup_{i = 0}^{n} \Clc^i(X)$ , es cierto.

    \item Ahora demostraremos que $P(n+1)$ es cierto.
    \[\Clc^{n+1}(X) \AstIg \Clc^n(X)\cup\{ \lnot \alpha : \alpha \in \Clc^n(X) \}\cup\{\alpha \rightarrow \beta: \alpha, \beta \in \Clc^n(X)\} \]
    donde en $(\ast)$ hemos utilizado la hipotesis de inducción. Por tanto, $P(n+1)$ es cierto.

\end{itemize}

Entonces, definimos el conjunto $\Clc(X)$ como:
\[
  \Clc(x) := \bigcup_{i = 0}^{\infty} \Clc^i(X)
\]

Se ve que $\{\Clc^n(X)\}$ es una sucesión que converge al menor conjunto que contiene a $X$ y además es constructivamente cerrado. \\ 

Entonces hemos llegado a la condición necesaria y suficiente para la caracterización de 
los elementos de \eqref{eq:2} que podemos formalizar de la siguiente forma:

Una formula $\varphi \in \Exp(X)$ pertenece a $\Clc(X)$ si y solo si existe una secuencia
finita de fórmulas $\varphi_1, \ldots, \varphi_n$ tales que:
\begin{enumerate}
    \item $\varphi_1, ..., \varphi_n \in \Exp(X)$
    \item $\varphi_1 \in X $
    \item Para cada $i \in \omega$ tal que $i \geq 2$
    \begin{itemize}
        \item $\varphi_i = \lnot \alpha$ con $\alpha \in \{\varphi_1, ..., \varphi_{i-1}\}$
        \item o, $\varphi_i = \alpha \rightarrow \beta$ con $\alpha, \beta \in \{\varphi_1, ..., \varphi_{i-1}\}$
    \end{itemize}
\end{enumerate} 

Esta caracterización nos dice que $\varphi$ pertenece al conjunto definido en \eqref{eq:2} si y solo si puede ser generada a partir  de las fórmulas atómicas de $X$.

La condición es necesaria debido a que si $\varphi \in \Clc(X)$, entonces $\varphi$ pertenece a todo 
conjunto constructivamente cerrado que contiene a $X$, en particular, pertenece al menor de ellos,
que se construye precisamente imponiendo esas condiciones de forma sucesiva y finita. \\

Por tanto, $\varphi$ ha aparecido en algún momento de la construcción.
La condición es suficiente porque si $\varphi$ se genera con un número finito de aplicaciones
 $\lnot \alpha$ y $\alpha \rightarrow \beta$, a partir de X, entonces $\varphi \in M \mid M \subseteq X$
 y sea estable por $\lnot \alpha$ y $\alpha \rightarrow \beta$. \\ 

 En conclusión, $\varphi \in \bigcap M$ , es decir, $\varphi \in \Clc(X)$.



\end{ejercicio}

\begin{ejercicio}
    Clasifique la siguiente fórmula que representaremos por $\alpha$ y que está expresada en cierto lenguaje de primer orden:
    \[
        \forall x \exists y (\varphi(x,y) \rightarrow f(x,y)) \rightarrow \exists z \exists y (\varphi(y,z) \rightarrow \neg \varphi(x,y))
    \]


    Se quiere demostrar que $\alpha$ es \emph{satisfacible} y \emph{refutable}; es decir, que existen estructuras $\mathcal{A}$ y $\mathcal{B}$ tales que 
$\mathcal{A} \not\models \alpha$ y $\mathcal{B} \models \alpha$, respectivamente.
A continuación se presentan dos estructuras distintas de las del ejemplo anterior que cumplen dicha propiedad:

\begin{itemize}
    \item \textbf{Estructura $\mathcal{A}$ (refutación).}\\
    Universo $A = \{0\}$ y $p^{\mathcal{A}} = A \times A$ (relación total).\\[2mm]
    \emph{Evaluación de $\alpha$ en $\mathcal{A}$:}
    \begin{enumerate}
        \item \emph{Antecedente.} Para el único $x = 0$ basta tomar $y = 0$. Como $p(0,0)$ es verdadera y, además, $p(z,0)$ es verdadera para todo $z$ (la relación es total), se tiene:
        \[
        p(0,0) \rightarrow \forall z\, p(z,0) = 1 \quad \Rightarrow \quad \forall x\,\exists y\,(p(x,y)\rightarrow\forall z\,p(z,x)) = 1.
        \]
        \item \emph{Consecuente.} Para cualquier $x,y \in A$ se cumple $p(x,y) = 1$, luego:
        \[
        p(x,y)\rightarrow\neg p(x,y) = 1\rightarrow 0 = 0,
        \]
        y por tanto la disyunción existencial es falsa:
        \[
        \exists x\,\exists y\,(p(x,y)\rightarrow\neg p(x,y)) = 0.
        \]
    \end{enumerate}
    Dado que el antecedente es verdadero y el consecuente falso, se concluye que \emph{$\mathcal{A} \not\models \alpha$}.

    \item \textbf{Estructura $\mathcal{B}$ (satisfacibilidad).}\\
    Universo $B = \{0\}$ y $p^{\mathcal{B}} = \emptyset$ (relación vacía).\\[2mm]
    \emph{Evaluación de $\alpha$ en $\mathcal{B}$:}
    \begin{enumerate}
        \item \emph{Antecedente.} Para el único $x = 0$, tomamos cualquier $y = 0$. Como $p(0,0)$ es falsa, el condicional $p(0,0) \rightarrow \forall z\,p(z,0)$ es verdadero (ya que $0 \rightarrow \varphi = 1$). Luego:
        \[
        \forall x\,\exists y\,(p(x,y)\rightarrow\forall z\,p(z,x)) = 1.
        \]
        \item \emph{Consecuente.} Para $x = 0$ y $y = 0$, se cumple:
        \[
        p(0,0)\rightarrow\neg p(0,0) = 0 \rightarrow 1 = 1,
        \]
        por lo que:
        \[
        \exists x\,\exists y\,(p(x,y)\rightarrow\neg p(x,y)) = 1.
        \]
    \end{enumerate}
    Como tanto el antecedente como el consecuente son verdaderos, se concluye que \emph{$\mathcal{B} \models \alpha$}.
\end{itemize}

En consecuencia, $\alpha$ es verdadera en $\mathcal{B}$ y falsa en $\mathcal{A}$; por tanto, $\alpha$ es \textbf{contingente} (satisfacible y refutable).
\end{ejercicio}

\begin{ejercicio}
    Dada cualquier fórmula $\varphi$ en un lenguaje de primer orden, formalice el proceso de obtención de una forma de Skolem $\varphi^{sk}$ a partir de una fórmula en forma prenexa de $\varphi$ y después demuestre que $\varphi$ es satisfacible sii, y sólo sii, $\varphi^{sk}$ es satisfacible.
\end{ejercicio}
\begin{ejercicio}
    Usando exclusivamente lo que conocemos de resolución, diga razonadamente si son o no satisfacibles los siguientes conjuntos de cláusulas que damos representadas por sus matrices correspondientes:
    \begin{enumerate}
        \item $\Sigma_1 = \{p(f(x), y), \neg p(x, f(y))\}$
        \item $\Sigma_2 = \{p(x, z) \lor p(x, f(z)), \neg p(f(b), z)\}$
        \item $\Sigma_3 = \{p(f(u), f(b)) \lor p(f(x), y), \neg p(x, f(f(y))) \lor \neg p(f(u), z)\}$
        \item $\Sigma_4 = \{p(x, z) \lor p(x, f(z)), \neg p(x, z)\}$
        \item $\Sigma_5 = \{p(f(x), z) \rightarrow \forall y q(x, z, z), \neg q(x, y), g(g(x), a), g(g(a), x)\}$
        \item $\Sigma_6 = \{p(x, y, z) \lor q(x, z, y), p(x, z) \lor \neg q(x, z, y), \neg p(x, z, y) \lor q(x, y, z),$\\$\neg q(x, z, z) \lor \neg q(x, z, y)\}$
    \end{enumerate}
\end{ejercicio}
\begin{ejercicio}
    La relación binaria $r$ es circular sii y sólo sii, por definición, para cualesquiera elementos $a$, $b$ y $c$ del conjunto subyacente, $(a, c) \in r$ siempre que $(a, b) \in r$ y $(b, c) \in r$. Responda razonadamente a las siguientes preguntas:
    \begin{enumerate}
        \item ¿Es toda relación de equivalencia una relación circular?
        \item ¿Es toda relación circular una relación de equivalencia?
    \end{enumerate}
\end{ejercicio}


    
\end{document}
\chapter{Extensiones de Galois}
\section{Extensiones de Galois}
\noindent
Del Capítulo anterior recordamos la Proposición~\ref{prop:comienzo_chap_2}, que nos servirá para comenzar este Capítulo:

\begin{center}
    Sea $F\leq K$ una extensión finita, entonces $|\Aut_F(K)| \leq [K:F]$.
\end{center}

\noindent
Esto nos permite obtener grupos finitos de automorfismos a partir de extensiones finitas, y lo que haremos ahora será describir un procedimiento en sentido contrario.

\begin{ejemplo}
    Si consideramos $\Aut\left(\mathbb{Q}\left(\sqrt[3]{2}\right)\right)$, sabemos que:
    \begin{equation*}
        \left|\Aut\left(\mathbb{Q}\left(\sqrt[3]{2}\right)\right)\right| \leq 3
    \end{equation*}
    Y afirmamos que solo hay uno, ya que si observamos el diagrama:
    \begin{figure}[H]
        \centering
        \shorthandoff{""}
        \begin{tikzcd}
        \mathbb{Q} \arrow[r, "\iota"] \arrow[rd, "\iota"'] & {\mathbb{Q}\left(\sqrt[3]{2}\right)}                    \\
                                                           & {\mathbb{Q}\left(\sqrt[3]{2}\right)} \arrow[u, "\eta"']
        \end{tikzcd}
        \shorthandon{""}
    \end{figure}
    \noindent
    tenemos que raíces de $x^3-2$ en $\mathbb{Q}\left(\sqrt[3]{2}\right)$ solo hay 1. Sin embargo, anteriormente vimos que:
    \begin{equation*}
        \left|\Aut\left(\mathbb{Q}\left(\sqrt[3]{2},w\right)\right)\right| = 6
    \end{equation*}
    Por lo que la idea intuitiva es que faltan raíces en el cuerpo para poder tener todos los automorfismos.
\end{ejemplo}

\begin{definicion}
    Sea $K$ un cuerpo y $G< \Aut(K)$ subgrupo, definimos el \underline{subcuerpo} \underline{fijo de $K$ bajo (la acción de) $G$} como el conjunto:
    \begin{equation*}
        K^G = \{a\in K : \sigma(a) = a \quad \forall \sigma\in G\}
    \end{equation*}
    Se verifica que $K^G$ es subcuerpo de $K$ (hágase), con lo que tenemos la extensión $K^G\leq K$.
\end{definicion}

\begin{notacion}
    Para no confundir la notación de ``subgrupo'' con la de ``subcuerpo'', siempre que tengamos $H$ un subgrupo de $G$ lo notaremos por $H < G$.
\end{notacion}

\begin{prop}[Artin]
    Si $G$ es un subgrupo finito de $\Aut(K)$, entonces.
    \begin{equation*}
        \left[K:K^G\right] \leq |G|
    \end{equation*}
    \begin{proof}
        Sea $n=|G|$, suponemos que $G = \{\sigma_1, \ldots, \sigma_n\}$ y tomamos $m$ (con $m>n$) elementos de $K$, $\alpha_1,\ldots,\alpha_m \in K$, basta probar que estos son $K^G-$linealmente dependientes. Para verlo, formamos la matriz:
        \begin{equation*}
            A = (\sigma_{j}(\alpha_i))_{i,j} = \left(\begin{array}{cccc}
                \sigma_1(\alpha_1) & \sigma_2(\alpha_1) & \cdots & \sigma_n(\alpha_1) \\
                \sigma_1(\alpha_2) & \sigma_2(\alpha_2) & \cdots & \sigma_n(\alpha_2) \\
                \vdots & \vdots & \ddots & \vdots \\
                \sigma_1(\alpha_m) & \sigma_2(\alpha_m) & \cdots & \sigma_n(\alpha_m) 
            \end{array}\right) \in  M_{m\times n}(K)
        \end{equation*}
        cuyo rango es menor o igual que $n$, luego menor o igual que $m$, es decir, existe un vector
        \begin{equation*}
            0\neq v = (v_1, \ldots, v_m) \in K^m
        \end{equation*}
        tal que $vA = 0$. Ahora, de entre todos los vectores que cumplen dichas condiciones, tomamos como $v$ aquel con número de componentes no nulas mínimo y tal que alguna componente, digamos la $l-$ésima (con $1\leq l\leq m$), verifique que $v_l \in K^G$. Notemos que esto podemos conseguirlo siempre con $v_l = 1$, tras dividir todas las componentes del vector entre la $l-$ésima componente. Si escribimos la igualdad $vA = 0$:
        \begin{equation*}
            \sum_i v_i \sigma_j(\alpha_i) = 0 \qquad \forall j \in \{1,\ldots,n\}
        \end{equation*}
        Y observamos que para obtener la dependencia lineal de los $\alpha_i$ falta ver que realmente los coeficientes $v_i$ están en $K^G$ (por ahora solo sabemos que están en $K$). Para ello, supuesto que $v_{l'}\notin K^G$, tendremos que $v_{l'} \neq \sigma_k(v_{l'})$ para cierto índice $k$. Tomamos ahora cualquier $\sigma\in G$ y definimos:
        \begin{equation*}
            \sigma(v) = (\sigma(v_1,), \ldots, \sigma(v_n))
        \end{equation*}
        Si usamos esto para $\sigma_k$:
        \begin{equation*}
            \sigma_k(v) = (\sigma_k(v_1), \ldots, \sigma_k(v_m))
        \end{equation*}
        Aplicamos $\sigma_k$ a la igualdad anterior, con lo que:
        \begin{equation*}
            \sum_i \sigma_k(v_i) \sigma_k(\sigma_j(\alpha_i)) = 0 \qquad \forall j \in \{1,\ldots,n\}
        \end{equation*}
        Observemos que:
        \begin{equation*}
            G = \{\sigma_1, \ldots, \sigma_n\} = \{\sigma_k\sigma_1, \ldots, \sigma_k\sigma_n\}
        \end{equation*}
        y lo que hemos hecho ha sido permutar las ecuaciones, variando los coeficientes, con lo que:
        \begin{equation*}
            \sigma_k(v)A = 0
        \end{equation*}
        Como $vA = 0$ y $\sigma_k(v)A=0$, tenemos que:
        \begin{equation*}
            (v-\sigma_k(v))A = 0, \qquad v-\sigma_k(v) \neq 0
        \end{equation*}
        ya que si miramos sus componentes $l'-$ésimas, estas son distintas. Sin embargo, las componentes $l-$ésimas eran iguales ($v_l = \sigma_k(v_l)$), por lo que hemos obtenido un vector $v-\sigma_k(v)$ que verifica que al multiplicarse por $A$ se obtiene cero y con al menos una componente no nula menos que $v$, \underline{contradicción}, que viene de suponer que $v_{l'}\notin K^G$, lo que nos dice que los coeficientes $v_i$ estaban en $K^G$. Si en la igualdad: 
        \begin{equation*}
            \sum_i v_i \sigma_j(\alpha_i) = 0 \qquad \forall j \in \{1,\ldots,n\}
        \end{equation*}
        tomamos aquel índice $j$ que verifica que $\sigma_j = Id_K$, tendremos entonces que:
        \begin{equation*}
            \sum_{i}v_i \alpha_i = 0, \qquad v_i \in K^G
        \end{equation*}
        lo que implica que $\alpha_1, \ldots, \alpha_m$ eran $K^G-$linealmente dependientes, por lo que:
        \begin{equation*}
            [K:K^G] \leq n = |G|
        \end{equation*}
    \end{proof}
\end{prop}

\begin{lema}\label{lema:inclusiones}
    Para un cuerpo $K$, tenemos que:
    \begin{enumerate}
        \item Si $H< G$ son subgrupos de $\Aut(K)$, entonces $K^H \geq K^G$. % Hay menos cosas que comprobar
        \item Si $F\leq E$ son subcuerpos de $K$, entonces $\Aut_F(K)> \Aut_E(K)$.
        \item Si $G$ es subgrupo de $\Aut(K)$, entonces $G< \Aut_{K^G}(K)$.
        \item Si $F\leq K$, entonces $F\leq F^{\Aut_F(K)}$.
    \end{enumerate}
    \begin{proof}
        Demostramos cada uno de los apartados de forma muy sencilla:
        \begin{enumerate}
            \item Sea $a\in K^G$, si tomamos $\sigma\in H< G$, tendremos que $\sigma(a) = a$, con lo que $a\in K^H$.
            \item Sea $\sigma\in \Aut_E(K)$, si tomamos $\lm \in F\leq E, x\in K$ observamos que:
                \begin{equation*}
                    \sigma(\lm \cdot x) = \lm\cdot \sigma(x)
                \end{equation*}
                Por lo que $\sigma\in \Aut_F(K)$.
            \item Sea $\sigma\in G< \Aut(K)$, si tomamos $x\in K$ y $y\in K^G$, observamos que:
                \begin{equation*}
                    \sigma(y\cdot x) = \sigma(y)\cdot \sigma(x) = y\cdot \sigma(x)
                \end{equation*}
                Por lo que $\sigma\in \Aut_{K^G}(K)$.
            \item Sea $x\in F$ y $\sigma \in \Aut_F(K)$, entonces:
                \begin{equation*}
                    \sigma(x) = \sigma(x\cdot 1) = x\cdot \sigma(1) = x
                \end{equation*}
                Por lo que $x\in F^{\Aut_F(K)}$.
        \end{enumerate}
    \end{proof}
\end{lema}

\noindent
Veamos ahora dónde se da la igualdad en los apartados 2 y 3, que en general no se dan.

\begin{teo}\label{teo:antes_teo_angular}
    Sea $K$ un cuerpo, si $G$ es un subgrupo finito de $\Aut(K)$, entonces:
    \begin{equation*}
        [K:K^G] = |G| \qquad \text{y}\qquad G = \Aut_{K^G}(K)
    \end{equation*}
    \begin{proof}
        El Lema anterior nos dice que $G\leq \Aut_{K^G}(K)$, y la Proposición de Artin nos dice que $[K:K^G]\leq |G|$, con lo que en particular la extensión es finita, luego podemos aplicar también la Proposición~\ref{prop:comienzo_chap_2} en $(\ast)$:
        \begin{equation*}
            |G| \leq |\Aut_{K^G}(K)| \stackrel{(\ast)}{\leq} [K:K^G] \leq |G|
        \end{equation*}
        Por lo que $G = \Aut_{K^G}(K)$.
    \end{proof}
\end{teo}

\begin{ejemplo}
    Sea $K = \mathbb{Q}\left(\sqrt[3]{2},w\right)$ con $w$ una raíz cúbica primitiva de la unidad, sabemos ya que:
    \begin{equation*}
        \Aut(K) = \{\eta_{j,k} : j\in \{0,1,2\}, k \in \{1,2\}\}
    \end{equation*}

    donde:
    \begin{equation*}
        \eta_{j,k}(\sqrt[3]{2}) = w^j \sqrt[3]{2} \qquad \eta_{j,k}(w) = w^k
    \end{equation*}
    Los subgrupos propios de $\Aut(K)$ (por el Teorema de Lagrange) son de orden 2 o 3, todos ellos cíclicos, por lo que tenemos que buscar elementos de orden 2 y 3. Son:
    \begin{equation*}
        \langle \eta_{1,1} \rangle  \cong \langle \eta_{2,1} \rangle, \qquad \langle \eta_{0,2} \rangle  \cong \langle \eta_{1,2} \rangle  \cong \langle \eta_{2,2} \rangle 
    \end{equation*}
    Que hemos obtenido ya que por ejemplo:
    \begin{align*}
        \sqrt[3]{2} &\stackrel{\eta_{0,2}}{\longmapsto} \sqrt[3]{2} \\
        w &\longmapsto w^2 \longmapsto w^4 = w \\
        \\
        \sqrt[3]{2} &\stackrel{\eta_{1,2}}{\longmapsto} w\sqrt[3]{2} \stackrel{\eta_{1,2}}{\longmapsto} w^2 w\sqrt[3]{2} = \sqrt[3]{2} \\
        w &\longmapsto w^2 \longmapsto w 
    \end{align*}
    Si el grupo fuera cíclico, tendríamos un único subgrupo por cada divisor, pero como hemos encontrado dos elementos distintos de orden 2 sabemos que no es cíclico.
    \begin{equation*}
        \sqrt[3]{2} \stackrel{\eta_{1,1}}{\longmapsto} w\sqrt[3]{2} \stackrel{\eta_{1,1}}{\longmapsto} ww\sqrt[3]{2} = w^2\sqrt[3]{2} \neq \sqrt[3]{2}
    \end{equation*}
    hemos encontrado un elemento de orden que no es 2, por lo que ha de ser de orden 3 (puesto que no hay elementos de orden 6 al no ser cíclico). Para calcular el segundo elemento de orden 3 calculamos el cuadrado a $\eta_{1,1}$, obteniendo el $\eta_{2,1}$. Finalmente, tenemos el elemento $\eta_{2,2}$, que automáticamente sabemos que es de orden 2, puesto que es el que queda.\\

    \noindent
    Buscamos ahora calcular $K^{\langle \eta_{1,1} \rangle }$, y sabemos que:
    \begin{equation*}
        \left[K:K^{\langle \eta_{1,1} \rangle }\right] = |\langle \eta_{1,1} \rangle | = 3
    \end{equation*}
    Por lo que aplicando el Lema de la torre (sabiendo que $[K:\mathbb{Q}] = 6$):
    \begin{equation*}
        [K^{\langle \eta_{1,1} \rangle }:\mathbb{Q}] = 2
    \end{equation*}
    buscamos una extensión de grado 2 de $\mathbb{Q}$ que esté dentro de $\Aut(K)$. Heurísticamente, conocemos que $[\mathbb{Q}(w):\mathbb{Q}] = 2$, con lo que buscamos razonar que $K^{\langle \eta_{1,1} \rangle } = \mathbb{Q}(w)$, comprobémoslo:
    \begin{itemize}
        \item Sabemos que $\mathbb{Q}\leq K^{\langle \eta_{1,1} \rangle }$, por ser $\eta_{1,1}\big|_{\mathbb{Q}} = \iota$.
        \item Como $\eta_{1,1}(w) = w$, tenemos que $w\in K^{\langle \eta_{1,1} \rangle }$.

            De estos dos puntos deducimos que $\mathbb{Q}(w)\leq K^{\langle \eta_{1,1} \rangle }$.
        \item Finalmente, como $[K^{\langle \eta_{1,1} \rangle }:\mathbb{Q}] = 2 = [\mathbb{Q}(w):\mathbb{Q}]$, ha de ser $\mathbb{Q}(w) = K^{\langle \eta_{1,1} \rangle }$.
    \end{itemize}

    \noindent
    Si pensamos ahora en calcular $K^{\langle \eta_{0,2} \rangle }, K^{\langle \eta_{1,2} \rangle }, K^{\langle \eta_{2,2} \rangle }$, lo que haremos será buscar primero extensiones de grado 3 de $\mathbb{Q}$. Sabemos que los elementos $\sqrt[3]{2}$, $w\sqrt[3]{2}$ y $w^2\sqrt[3]{2}$ tienen grado 3 sobre $\mathbb{Q}$, y no será difícil comprobar que $\mathbb{Q}(\sqrt[3]{2}), \mathbb{Q}(w\sqrt[3]{2})$ y $\mathbb{Q}(w^2\sqrt[3]{2})$ son los subcuerpos que estábamos buscando.
\end{ejemplo}

\begin{definicion}[Polinomio separable]
    Sea $f\in F[x]$ con $degf \geq 1$, se dice que $f$ es separable si todas sus raíces (en un cuerpo de descomposición de $f$) son simples.
\end{definicion}

\begin{observacion}
    Equivalentemente, un polinomio es separable si: 
    \begin{itemize}
        \item tiene $degf$ raíces distintas en su cuerpo de descomposición.
        \item $\mcd (f,f') = 1$.
    \end{itemize}
\end{observacion}

\begin{ejemplo}
    Para mostrar la abundancia de polinomios separables así como la existencia de polinomios no separables:
    \begin{itemize}
        \item Si $F$ es un cuerpo con $\car(F)= 0$ y $f$ es irreducible, entonces $f$ es separable.

            Como $car(F)=0$ y $degf\geq 1$, tenemos al ser $f$ no constante que $f'\neq 0$, y como $f$ es irreducible tendremos que $\mcd(f,f')=1$, de donde $f$ es separable.
        \item Sea $f=x^q-x\in \bb{F}_p[x]$, donde $q=p^n$, tenemos que $f$ es separable.

            Como $f'=qx^{q-1}-1 = -1\neq 0$, tenemos que $\mcd(f,f')=1$, por lo que $f$ es separable.
        \item Sea $\bb{F}_p(t)$ el cuerpo de fracciones del anillo de polinomios $\bb{F}_p[t]$, si consideramos el polinomio:
            \begin{equation*}
                f = x^p-t\in \bb{F}_p(t)[x]
            \end{equation*}
            tenemos que $f$ es irreducible (por Eisenstein para $t$) y que $f'=0$, con lo que $\mcd(f,f')=f\neq 1$, luego $f$ no es separable.
    \end{itemize}
\end{ejemplo}

\begin{definicion}[Extensión separable]
    Una extensión algebraica $F\leq K$ se dice separable si $\Irr(\alpha,F)$ es separable, para todo $\alpha\in K$.
\end{definicion}

\begin{observacion}
    Toda extensión algebraica en característica $0$ es separable.
\end{observacion}

\begin{definicion}[Extensión normal]
    Una extensión algebraica $F\leq K$ se dice normal si $\Irr(\alpha,F)$ se factoriza como producto de polinomios lineales en $K[x]$, para todo $\alpha\in K$.
\end{definicion}

\begin{ejemplo}
    Por ejemplo, la extensión $\mathbb{Q}\leq \mathbb{Q}(\sqrt[3]{2})$ no es normal pero sí es separable.
\end{ejemplo}

% // TODO: TEOREMA IMPORTANTE
\begin{teo}\label{teo:piedra_angular}
    Sea $F\leq K$ una extensión de cuerpos. Son equivalentes: 
    \begin{enumerate}
        \item[$i)$] $K$ es cuerpo de descomposición de un $f\in F[x]$ separable.
        \item[$ii)$] $F\leq K$ es finita y $F = K^{\Aut_F(K)}$.
        \item[$iii)$] $F = K^G$ para un subgrupo finito $G$ de $\Aut(K)$.
        \item[$iv)$] $F\leq K$ es finita, normal y separable.
    \end{enumerate}
    \begin{proof}
        Veamos las equivalencias:
        \begin{description}
            \item [$i)\Longrightarrow  ii)$] Como $K$ es cuerpo de descomposición de cierto $f\in F[x]$, tenemos entonces que si $\alpha_1, \ldots, \alpha_s$ son las raíces de $f$ entonces:
                \begin{equation*}
                    K = F(\alpha_1, \ldots, \alpha_s)
                \end{equation*}
                Por lo que $F\leq K$ es finitamente generada. Si observamos ahora la demostración del Teorema~\ref{teo:finita_algebraica} observamos que solo usaba que los $\alpha_i$ eran algebraicos, por lo que podemos concluir que $F\leq K$ es finita.

                Sea $F' = K^{\Aut_F(K)}$, es claro que $F\leq F'$. Además, como $F\leq K$ es finita, tendremos que $\Aut_F(K)$ es finito. Por el Teorema~\ref{teo:antes_teo_angular} tenemos que tomando $G = \Aut_F(K)$, se tiene que:
                \begin{equation*}
                    \Aut_F(K) = \Aut_{F'}(K)
                \end{equation*}
                $K$ es cuerpo de descomposición de $f\in F[x]$ y como $F\leq F'$, tenemos también que $K$ es cuerpo de descomposición de $f\in F'[x]$. Como $f$ es separable, tenemos que:
                \begin{equation*}
                    [K:F] = |\Aut_F(K)| = |\Aut_{F'}(K)| = [K:F']
                \end{equation*}
                Con $F\leq F'$, por lo que el Lema de la Torre nos dice que $F = F'$
            \item [$ii)\Longrightarrow iii)$] Si la extensión es finita, tenemos entonces que $\Aut_F(K)$ es finita, con lo que tomando $G= \Aut_F(G)$, tenemos que $F=K^G$.
            \item [$iii)\Longrightarrow iv)$] La Proposición de Artin nos dice que $K^G = F\leq K$ es finita. 

                Sean $\alpha\in K$ y $h = \Irr(\alpha,F)\in F[x]$, como $G$ actúa sobre $K$, podemos considerar la órbita de $\alpha$ (considerando todos sus elementos distintos):
                \begin{equation*}
                    Orb(\alpha) = \{\alpha_1, \ldots, \alpha_t\} \subseteq K
                \end{equation*}
                y podemos considerar el polinomio:
                \begin{equation*}
                    g = \prod_{i=1}^{t}(x-\alpha_i) = \sum_{j=0}^{t} a_j x^j \in K[x]
                \end{equation*}
                veamos que $a_j \in F$ para todo $j\in \{1,\ldots,t\}$, usando que $F=K^G$. Dado $\sigma\in G$:
                \begin{equation*}
                    \prod_{i=1}^{t} (x-\sigma(\alpha_i)) = g^\sigma = \sum_{j=0}^{t} \sigma(a_j) x^j
                \end{equation*}
                y vemos que $g = \prod\limits_{i=1}^{t}(x-\sigma(\alpha_i))$, puesto que al aplicar $\sigma$ sobre los elementos de la órbita los permuta, con lo que de la igualdad de la derecha deducimos que $\sigma(a_j) = a_j$, para todo $j\in \{1,\ldots,t\}$, con lo que $a_j\in F[x]$ para todo $j \in \{1,\ldots,t\}$, luego $g\in F[x]$.

                Por una parte $g(\alpha) = 0$, puesto que $\alpha\in Orb(\alpha)$. Como $h=\Irr(\alpha,F)$, tenemos que $h$ divide a $g$.

                Por otra parte, cada $\alpha_i$ es raíz de $h$, ya que $h(\alpha) = 0$ deducimos que si tomamos $\sigma\in G$, entonces:
                \begin{equation*}
                    0 = \sigma(0) = \sigma(h(\alpha)) = h(\alpha_i)
                \end{equation*}
                Como se cumple para todo $\sigma\in G$, tenemos pues que $h(\alpha_i) = 0$ para todo $i \in \{1,\ldots,t\}$. Como los elementos $\alpha_i$ son distintos, tenemos que $deg h \geq t$, pero como $g$ es un polinomio mónico de grado $t$ cuyas raíces son exactamente $Orb(\alpha)$, tenemos que $g=h$. Hemos probado que la extensión es normal y separable.
            \item [$iv)\Longrightarrow i)$] Como $F\leq K$ es finita, tenemos entonces que existen $\alpha_1, \ldots, \alpha_s\in K$ algebraicos de forma que $K = F(\alpha_1, \ldots, \alpha_s)$. Podemos por tanto considerar $f_i = \Irr(\alpha_i, F)$, y tomamos como $f$ el producto de los $f_i$ eliminando repeticiones (es decir, multiplicamos todos los $f_i$ distintos). Como la extensión es normal y separable, cada uno de los $f_i$ se descompone como producto de polinomios lineales mónicos distintos. De donde $f$ es un polinomio separable\footnote{Notemos que para eso eliminamos antes las repeticiones.}, por lo que $K$ es un cuerpo de descomposición de $f$.
        \end{description}
    \end{proof}
\end{teo}

\noindent
Este Teorema tiene consecuencias importantes relacionadas con lo que luego llamaremos ``extensiones de Galois'', que corresponderá con una extensión $F\leq K$ que cumple alguno de los apartados anteriores, todos ellos equivalentes.
\begin{itemize}
    \item El punto $i)$ nos da una forma práctica de comprobar que una extensión es de Galois, para lo cual repetiremos de forma parecida la demostración $iv)\Longrightarrow i)$.
    \item El apartado $ii)$ tiene que ver con lo que luego llamaremos ``conexión de Galois'', que responde a la pregunta de qué le tiene que suceder a una extensión finita para estar en biyección con su grupo de Galois.
\end{itemize}

\begin{definicion}
    La órbita de $\alpha$ bajo $G$ que ha aparecido en la demostración, $\{\alpha_1, \ldots, \alpha_s\}$ se llaman conjugados de $\alpha$ bajo $G$.
\end{definicion}

\noindent
Se trata de la generalización del concepto ``conjugado'' de un número complejo.

\begin{definicion}[Extensión de Galois]
    Una extensión $F\leq K$ se dice de Galois si es finita, normal y separable.

    \noindent
    El grupo $\Aut_F(K)$ recibe el nombre \underline{Grupo de Galois de la extensión}.
\end{definicion}

\begin{coro}
    En característica $0$, si $K$ es cuerpo de descomposición de $f\in F[x]$, entonces $F\leq K$ es de Galois.
    \begin{proof}
        Consideramos la descomposición de $f$ en irreducibles:
        \begin{equation*}
            f = p_1^{n_1}\cdot \ldots \cdot p_t^{n_t}
        \end{equation*}
        con $p_i$ distintos. Obsevemos que $K$ es cuerpo de descomposición de $p_1\cdot \ldots\cdot p_t$, que sí es separable, puesto que cada polinomio irreducible es separable y estos no comparten raíces entre sí. Por el Teorema anterior, la extensión es finita, normal y separable.
    \end{proof}
\end{coro}

\begin{coro}
    Si $F\leq K$ es de Galois y $F\leq E\leq K$ es una subextensión, entonces $E\leq K$ es de Galois.
    \begin{proof}
        Como $F\leq K$ es de Galois, entonces $K$ es cuerpo de descomposición de cierto $f\in F[x]$ separable, por lo que $K$ es cuerpo de descomposición de $f\in E[x]$, que sigue siendo separable.
    \end{proof}
\end{coro}

% // F <= E no tiene por qué ser de Galois

\begin{ejemplo}
    Si consideramos $\mathbb{Q}\leq \mathbb{Q}\left(\sqrt[3]{2}\right)$, tenemos una extensión finita y separable pero que no es de Galois, porque no es normal. Sin embargo, $\mathbb{Q}\leq \mathbb{Q}\left(\sqrt[3]{2},w\right)$ sí que es de Galois. En consecuencia, $\mathbb{Q}(\sqrt[3]{2})\leq \mathbb{Q}\left(\sqrt[3]{2},w\right)$ es de Galois.\\

    \noindent
    Sabemos que $\mathbb{Q}\leq \mathbb{Q}\left(\sqrt[3]{2}\right)$ no es normal porque $\Irr\left(\sqrt[3]{2},\mathbb{Q}\right) = x^3-2$ no se descompone como producto de polinomios lineales en $\mathbb{Q}\left(\sqrt[3]{2}\right)$, ya que $w\sqrt[3]{2}$ es una raíz del polinomio que no está en $\mathbb{Q}\left(\sqrt[3]{2}\right)$.
\end{ejemplo}

\begin{coro}
    Toda extensión de cuerpos finitos es de Galois.
    \begin{proof}
        Si tenemos una extensión $F\leq E$ de cuerpos finitos de característica $car(F)=p$, tenemos entonces que:
        \begin{equation*}
            \bb{F}_p\leq F \leq E
        \end{equation*}
        con $\bb{F}_p\leq E$ de Galois, puesto que el polinomio $x^q-x \in \bb{F}_q[x]$ con $q=|E| = p^n$ es separable y $E$ es un cuerpo de descomposición suyo.
    \end{proof}
\end{coro}

\begin{ejemplo}
    Consideramos $\mathbb{Q}\leq E=\mathbb{Q}\left(\sqrt[3]{5},i\sqrt{5}\right)$, que es una extensión finita, con (por el Lema de la Torre) $[E:\mathbb{Q}] = 6$. Si esta extensión fuera de Galois, entonces la raíz $w\sqrt[3]{5}$ de $x^3-5=\Irr(\sqrt[3]{5},\mathbb{Q})$ estaría en $E$, para $w = \frac{-1}{2} + i\frac{\sqrt{3}}{2}$.\\

    \noindent
    En dicho caso, $i\sqrt{3}\in E$, luego $\mathbb{Q}\left(i\sqrt{3},i\sqrt{5}\right)\leq E$. Buscamos calcular:
    \begin{equation*}
        \left[\mathbb{Q}\left(i\sqrt{3},i\sqrt{5}\right):\mathbb{Q}\right]
    \end{equation*}
    Sabemos que $\left[\mathbb{Q}\left(i\sqrt{3}\right):\mathbb{Q}\right] = 2$, así como que $\left[\mathbb{Q}\left(i\sqrt{5},i\sqrt{3}\right):\mathbb{Q}\left(i\sqrt{3}\right)\right]\leq 2$:
    \begin{itemize}
        \item Si $\left[\mathbb{Q}\left(i\sqrt{5},i\sqrt{3}\right)\right]=1$, esto es porque $i\sqrt{5}\in \mathbb{Q}\left(i\sqrt{3}\right)$. En dicho caso, tendríamos que:
            \begin{equation*}
                i\sqrt{5} = a+bi\sqrt{3} \qquad a,b\in \mathbb{Q}
            \end{equation*}
            de donde $a=0$, con lo que $i\sqrt{5}=bi\sqrt{3}$, y elevando al cuadrado tendríamos que:
            \begin{equation*}
                -5 = -3b^2
            \end{equation*}
            de donde $b\in \mathbb{Q}$ es raíz de $3x^2-5$, pero:
            \begin{description}
                \item [Opción 1.] $3x^2-5$ es irreducible por Eisenstein (notemos que es primitivo).
                \item [Opción 2.] Las posibles raíces racionales del polinomio enunciado son:
                    \begin{equation*}
                        1, -1, 5, -5, \frac{1}{3}, \frac{-1}{3}, \frac{5}{3}, \frac{-5}{3}
                    \end{equation*}
                    y ninguna es raíz.
            \end{description}
        \item Tenemos por tanto que $\left[\mathbb{Q}\left(i\sqrt{5},i\sqrt{3}\right):\mathbb{Q}\left(i\sqrt{3}\right)\right] = 2$, y por el lema de la torre tenemos que $\left[\mathbb{Q}\left(i\sqrt{3},i\sqrt{5}\right):\mathbb{Q}\right] =4$, de donde $4$ divide a $6 = [E:\mathbb{Q}]$, \underline{contradicción} que viene de suponer que la extensión es de Galois.
    \end{itemize}
\end{ejemplo}

\section{Teorema fundamental de la Teoría de Galois}

\begin{notacion}
    Notaremos:
    \begin{itemize}
        \item Si $F\leq K$ es una extensión y $F\leq E \leq K$ se dice que $E$ es una \underline{subextensión} de $F\leq K$. Denotamos al conjunto de todas ellas por $\Subex(F\leq K)$.
        \item Si $G$ es un grupo, llamamos $\Subgr(G)$ al conjunto de todos sus subgrupos.
        \item Si $H\in \Subgr(G)$, denotamos por $(G:H)$ al índice de $H$ en $G$.
    \end{itemize}
\end{notacion}

\begin{definicion}
    Sean $(A,\leq)$, $(B,\leq)$ dos conjuntos ordenados, un anti-isomorfismo de conjuntos ordenados es una aplicación biyectiva $f:A\to B$ de forma que:
    \begin{equation*}
        a\leq a' \Longleftrightarrow  f(a)\geq f(a')
    \end{equation*}
\end{definicion}

% Un anti-isomorfismos es una biyeccion donde tomamos los órdenes de la inclusion
% anti significa que vuelve del revés el orden

% // TODO: SEGUIR POR AQUI

\begin{teo} 
    Sea $F\leq K$ una extensión de Galois con grupo de Galois $G$. La aplicación 
    \Func{}{\Subgr(G)}{\Subex(F\leq K)}{H}{K^H}
    es un anti-isomorfismo de conjuntos ordenados cuya inversa es 
    \Func{}{\Subex(F\leq K)}{\Subgr(G)}{E}{\Aut_E(K)}
    Si $H_1< H_2$ son subgrupos de $G$ y $E_2\leq E_1$ son sus subextensiones de $F\leq K$ correspondientes por la anterior biyección, entonces:
    \begin{equation*}
        (H_2:H_1) = [E_1:E_2]
    \end{equation*}
    \begin{proof}
        La primera aplicación está bien definida, puesto que si $H\in \Subgr(G)$, entonces:
        \begin{equation*}
            \{id_K\} < H < G
        \end{equation*}
        de donde el Lema~\ref{lema:inclusiones} nos dice que:
        \begin{equation*}
            K = K^{\{1\}} \leq K^H \leq K^G \AstIg F
        \end{equation*}
        donde en $(\ast)$ hemos usado el Teorema~\ref{teo:piedra_angular}. Para la segunda aplicación, si ${E\in \Subex(F\leq K)}$, tenemos que:
        \begin{equation*}
            F\leq E \leq K
        \end{equation*}
        de donde el Lema~\ref{lema:inclusiones} nos dice:
        \begin{equation*}
            \{id_K\} = \Aut_K(K) < \Aut_E(K) < \Aut_F(K) = G
        \end{equation*}
        por lo que $\Aut_E(K)\in \Subgr(G)$.





        Como $H\in \Subgr(G)$, tenemos que $K^H=F$, luego $\Aut_{K^H}(K) = H$. Si tomamos ahora $E\in \Subex(F\leq K)$, como $E\leq K$ es de Galois, $E = K^{\Aut_E(K)}$.\\

        \noindent
        Para la segunda parte, si $H_1\subseteq H_2$ son subgrupos de $G$ y $E_2\leq E_1$ son subextensiones de $F\leq K$ correspondientes de dichos subgrupos (es decir, $E_1 = K^{H_1}$, $E_2 = K^{H_2}$), sabemos que $|H_2| = [K:E_2] = [K:E_1] [E_1:E_2] = |H_1|[E_1:E_2]$, de donde:
        \begin{equation*}
            [E_1:E_2] = \dfrac{|H_2|}{|H_1|} = (H_2:H_1)
        \end{equation*}
    \end{proof}
\end{teo}

% EJ: calcular los automorfismos de Q(s3(5), is(5)), veremos que tenemos 2 elementos

\begin{definicion}[Conexión de Galois]
    La biyección del Teorema recibe el nombre ``Conexión de Galois''.
\end{definicion}

\begin{ejemplo}
    Si consideramos la extensión de Galois $\mathbb{Q}\leq \mathbb{Q}\left(\sqrt[3]{2},w\right)$, vimos anteriormente que $\Aut\left(\mathbb{Q}\left(\sqrt[3]{2},w\right)\right)$ tenía 6 elementos, y calculamos $\Subgr(\Aut\left(\mathbb{Q}\left(\sqrt[3]{2},w\right)\right))$. Y por la Conexión de Galois sabemos ahora que todos los subcuerpos los tenemos.

    Si contamos los subgrupos, los subcuerpos son 6.
\end{ejemplo}

\begin{ejemplo}
    Sea $\bb{F}_q = \bb{F}_{p^n}$, nos preguntamos por los elementos de dicho cuerpo. La extensión $\bb{F}_p\leq \bb{F}_{p^n}$ es de Galois, por lo que podemos tratar de usar la conexión de Galois. Más aún, habíamos visto que:
    \begin{equation*}
        \Aut(\bb{F}_{p^n}) = \Aut_{\bb{F}_p}(\bb{F}_{p^n}) = \langle \tau \rangle 
    \end{equation*}
    cíclico de orden $n$, con $\tau(\alpha)=\alpha^p$. Los subgrupos están parametrizados por los divisores de $n$, con lo que:
    \begin{equation*}
        \Subgr(\Aut(\bb{F}_{p^n})) = \left\{\langle \tau^d \rangle : d \in Div(n) \right\}
    \end{equation*}
    Los subcuerpos de $\bb{F}_{p^n}$ son, por la conexión de Galois:
    \begin{equation*}
        \left\{\bb{F}_{p^n}^{\langle \tau^d \rangle }: d\in Div(n)\right\}
    \end{equation*}
    Vamos a calcular:
    \begin{equation*}
        \left[\bb{F}_{p^n}^{\langle \tau^d \rangle }:\bb{F}_p\right] = \left(\langle \tau \rangle : \langle \tau^d \rangle \right) = d
    \end{equation*}
    Por lo que:
    \begin{equation*}
        \left|\bb{F}_{p^n}^{\langle \tau^d \rangle }\right| = p^d
    \end{equation*}
    Y estos son todos.

    \noindent
    Cada cuerpo de $p^n$ elementos tiene un subcuerpo de cardinal $p^d$ con $d\in Div(n)$.

    \noindent
    Por ejemplo, un cuerpo de $64$ elementos tiene 4 subcuerpos (cada divisor de 6).
\end{ejemplo}

% Vamos a ver a qué subcuerpos van los subgrupso normales

\begin{lema}
    Sea $F\leq K$ de Galois con grupo $G$ de Galois, sean $H\in \Subgr(G)$ y $E\in \Subex(F\leq K)$ correspondiente a $H$ por la conexión de Galois. Si $\sigma\in G$, entonces $\sigma H \sigma^{-1}$ y $\sigma(E)$ son correspondientes por la conexión de Galois.
    \begin{proof}
        Sea $E = K^H$, queremos probar que $\sigma(K^H) = K^{\sigma H \sigma^{-1}}$. Tendremos:
        \begin{align*}
            \alpha \in K^{\sigma H \sigma^{-1}} &\Longleftrightarrow \sigma\tau \sigma^{-1}(\alpha) = \alpha \quad \forall \tau \in H \Longleftrightarrow \tau\sigma^{-1}(\alpha) = \sigma^{-1}(\alpha) \quad \forall \tau \in H \\ &\Longleftrightarrow \sigma^{-1}(\alpha) \in K^H \Longleftrightarrow \alpha \in \sigma(K^H)
        \end{align*}
    \end{proof}
\end{lema}

\begin{teo}
    Sea $F\leq K$ de Galois y $G$ su grupo de Galois, si $H\in \Subgr(G)$ y $E\in \Subex(F\leq K)$ correspondientes mediante la conexión:
    \begin{equation*}
        H \text{\ es normal en\ } G \Longleftrightarrow F\leq E \text{\ es de Galois}
    \end{equation*}
    En cuyo caso, $\Aut_F(E)\cong G/H$.
    \begin{proof}
        Si $H\lhd G$, el Lema nos dice que $\sigma(E) = E\quad \forall \sigma\in G$. Definimos $r:G\to \Aut_F(E)$ por $r(\sigma) = \sigma\big|_{E}$, que:
        \begin{itemize}
            \item Está bien definido.
            \item $r$ es un homomorfismo de grupos.
            \item $\ker(r) = \Aut_E(K)  = H$.
            \item $r$ es sobreyectivo, ya que:
                \begin{equation*}
                    [E:F] = (G:H) \AstIg |Im r|\leq |\Aut_F(E)| \leq [E:F]
                \end{equation*}
                Donde en $(\ast)$ usamos el Primer Teorema de Isomorfía de grupos, con lo que la imagen tiene el mismo cardinal que el conjunto de llegada. Además, obtenemos que (por el Primer Torema de Isomorfía de Grupos):
                \begin{equation*}
                    \Aut_F(E) \cong \dfrac{G}{H}
                \end{equation*}
        \end{itemize}
        Dado $\alpha \in E^{\Aut_F(E)}$, entonces: 
        \begin{equation*}
            \alpha = r(\sigma)(\alpha) = \sigma(\alpha) \qquad \forall \sigma\in G
        \end{equation*}
        de donde $\alpha\in F$, luego $E^{\Aut_F(E)} = F$ y el Teorema (piedra angular) nos dice que $F\leq E$ es de Galois. % // TODO: El reciproco
        Falta ver que es de Galoois, raices de un polinomio separable, llamamos $f$ al producto de todos los generadores menos algo, aplica $\sigma$, que permita las cosas, luego está en $E$ y el Lema dice que es normal.
    \end{proof}
\end{teo}
